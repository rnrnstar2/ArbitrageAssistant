# Task 01: トレード・エントリーシステムの実装

## 概要
管理画面からの手動エントリー機能とEA経由での実際のポジション作成機能を実装する。MVP範囲では基本的な手動エントリーのみ対応。

## 実装範囲

### 1. フロントエンド（hedge-system）
- **エントリーフォームコンポーネント**
  - 通貨ペア選択
  - 売買方向（Buy/Sell）
  - ロット数指定
  - 価格指定（成行/指値）
  - アカウント選択
  - エントリー実行ボタン

### 2. バックエンド機能
- **WebSocket経由でのEAへのコマンド送信**
  - エントリー指示の送信
  - 実行結果の受信
  - エラーハンドリング

### 3. データ管理
- **ポジションデータの保存**
  - DynamoDB/GraphQL経由での永続化
  - リアルタイム更新

## 参考ファイル
- `apps/admin/features/trading/entry/entry-form.tsx`
- `apps/hedge-system/src/features/ea-management/`
- `apps/hedge-system/lib/websocket/`

## 実装手順

### Phase 1: エントリーフォームUI作成
1. `src/features/trading/` ディレクトリ作成
2. `EntryForm.tsx` コンポーネント実装
3. 入力バリデーション実装

### Phase 2: WebSocket連携
4. EA向けエントリーコマンド定義
5. WebSocketメッセージ送信機能
6. レスポンス受信・処理機能

### Phase 3: データ永続化
7. GraphQL mutation/subscription設定
8. ポジションデータの保存・更新
9. エラー時のロールバック処理

## 完了条件
- [ ] エントリーフォームからポジション作成可能
- [ ] EA経由でのエントリー実行確認
- [ ] ポジション情報のリアルタイム表示
- [ ] エラー時の適切なメッセージ表示
- [ ] 型安全性の確保（TypeScript）

## 注意事項
- MVP範囲では成行注文のみ対応
- 複数アカウント同時エントリーは次フェーズ
- エントリー前の残高・証拠金チェック必須