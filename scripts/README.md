# ç®±åº­ (Haconiwa) ğŸš§ **é–‹ç™ºä¸­**

**ç®±åº­ (Haconiwa)** ã¯ã€AIå”èª¿é–‹ç™ºæ”¯æ´Python CLIãƒ„ãƒ¼ãƒ«ã§ã™ã€‚tmuxä¼šç¤¾ç®¡ç†ã€git-worktreeé€£æºã€ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒç®¡ç†ã€AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèª¿æ•´æ©Ÿèƒ½ã‚’çµ±åˆã—ã€åŠ¹ç‡çš„ãªé–‹ç™ºç’°å¢ƒã‚’æä¾›ã™ã‚‹æ¬¡ä¸–ä»£ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

[ğŸ‡ºğŸ‡¸ English README](README.md)

## âš ï¸ å…è²¬äº‹é …

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯åˆæœŸã‚¢ãƒ«ãƒ•ã‚¡é–‹ç™ºæ®µéšã‹ã¤**ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚§ãƒ¼ã‚º**ã«ã‚ã‚Šã¾ã™ã€‚ç¾åœ¨ã®CLIã‚³ãƒãƒ³ãƒ‰ã¯ä¸»ã«æ„å›³ã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ç¤ºã™ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã§ã™ã€‚ã»ã¨ã‚“ã©ã®æ©Ÿèƒ½ã¯æ´»ç™ºã«é–‹ç™ºä¸­ã§ã¾ã å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

**ç¾åœ¨å‹•ä½œã™ã‚‹ã‚‚ã®:**
- CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ã‚³ãƒãƒ³ãƒ‰æ§‹é€ 
- ãƒ˜ãƒ«ãƒ—ã‚·ã‚¹ãƒ†ãƒ ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- åŸºæœ¬çš„ãªã‚³ãƒãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

**ä»Šå¾Œå®Ÿè£…äºˆå®š:**
- å®£ä¼ã•ã‚Œã¦ã„ã‚‹å…¨æ©Ÿèƒ½ã®å®Œå…¨å®Ÿè£…
- AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå”èª¿æ©Ÿèƒ½
- é–‹ç™ºãƒ„ãƒ¼ãƒ«ã¨ã®çµ±åˆ
- å®Ÿéš›ã®ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã¨ä¼šç¤¾ç®¡ç†

ç¾æ™‚ç‚¹ã§ã¯æœ¬ç•ªç’°å¢ƒã§ã®ä½¿ç”¨ã¯æ¨å¥¨ã•ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã¯æ„å›³ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚’ç¤ºã™é–‹ç™ºãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã™ã€‚

> âš ï¸ **æ³¨æ„**: ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ç¾åœ¨æ´»ç™ºã«é–‹ç™ºä¸­ã§ã™ã€‚æ©Ÿèƒ½ã‚„APIã¯é »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

## ğŸ“‹ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯[Semantic Versioning](https://semver.org/lang/ja/)ã«å¾“ã£ã¦ã„ã¾ã™ã€‚

- **ğŸ“„ å¤‰æ›´å±¥æ­´**: [CHANGELOG.md](CHANGELOG.md) - å…¨ã¦ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å¤‰æ›´å±¥æ­´
- **ğŸ·ï¸ æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 0.4.0
- **ğŸ“¦ PyPI**: [haconiwa](https://pypi.org/project/haconiwa/)
- **ğŸ”– GitHubãƒªãƒªãƒ¼ã‚¹**: [Releases](https://github.com/dai-motoki/haconiwa/releases)

## ğŸ”§ æœ€è¿‘ã®æ›´æ–° (2025-06-19)

**ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå‘½åã‚·ã‚¹ãƒ†ãƒ ã®å¤§å¹…æ”¹å–„**: Gitãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«æº–æ‹ ã—ãŸæŸ”è»Ÿãªã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå‘½åã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã—ã€ãƒ¢ãƒ‹ã‚¿ãƒ¼è¡¨ç¤ºã¨TMUXãƒšã‚¤ãƒ³åã®è‡ªå‹•æ›´æ–°æ©Ÿèƒ½ã‚’å¤§å¹…ã«å¼·åŒ–ã—ã¾ã—ãŸã€‚

### ğŸ“‹ å®Ÿè£…ã•ã‚ŒãŸä¸»è¦æ©Ÿèƒ½

#### âœ… æŸ”è»Ÿãªã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå‘½åè¦å‰‡
- **ã‚¹ãƒ©ãƒƒã‚·ãƒ¥å½¢å¼**: `feature/01_ai_strategy`, `bugfix/04_product_roadmap`
- **ãƒã‚¤ãƒ•ãƒ³å½¢å¼**: `feature-02_tech_architecture` 
- **ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢å½¢å¼**: `feature_03_financial_planning`
- **å¯¾å¿œã‚«ãƒ†ã‚´ãƒª**: feature, bugfix, hotfix, enhancement, refactor, docs, test, perf

#### âœ… ãƒ¢ãƒ‹ã‚¿ãƒ¼è¡¨ç¤ºã®å®Œå…¨å¯¾å¿œ
- ã‚ã‚‰ã‚†ã‚‹ç•ªå·ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¯¾å¿œï¼ˆ01, 02, 999, xyzç­‰ï¼‰
- Gitã‚«ãƒ†ã‚´ãƒªã§å§‹ã¾ã‚‹ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã‚’è‡ªå‹•èªè­˜
- ã‚¹ãƒ©ãƒƒã‚·ãƒ¥å½¢å¼ã§ã®å®Œå…¨ãªã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒåè¡¨ç¤º

#### âœ… TMUXãƒšã‚¤ãƒ³åã®è‡ªå‹•æ›´æ–°
- ãƒšã‚¤ãƒ³åå½¢å¼: `ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå-ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå`
- `haconiwa apply` å®Ÿè¡Œæ™‚ã«è‡ªå‹•ã§ãƒšã‚¤ãƒ³åã‚’æ›´æ–°
- ä¾‹: `data-lead-kimura-feature/01_ai_strategy`

#### âœ… ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç§»å‹•ã®æ”¹å–„
- ãƒ•ãƒ©ãƒƒãƒˆæ§‹é€ (`tasks/task_name/`)ã¨ãƒã‚¹ãƒˆæ§‹é€ (`tasks/category/task_name/`)ã®ä¸¡æ–¹ã«å¯¾å¿œ
- ã‚¹ãƒ©ãƒƒã‚·ãƒ¥å½¢å¼ã®ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã§æ­£ã—ãã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç§»å‹•

### ğŸ“ˆ éå»ã®æ›´æ–° (2025-06-13)

**ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã®ä¿®æ­£**: YAMLã§æŒ‡å®šã•ã‚ŒãŸ`defaultBranch`ã§ã¯ãªã`main`ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒãŒä½œæˆã•ã‚Œã‚‹å•é¡Œã‚’ä¿®æ­£ã—ã¾ã—ãŸã€‚

- âœ… Task CRDãŒé–¢é€£ã™ã‚‹Space CRDã‹ã‚‰`defaultBranch`ã‚’é©åˆ‡ã«ç¶™æ‰¿
- âœ… æ—¢å­˜ã®èª¤ã£ãŸãƒ–ãƒ©ãƒ³ãƒã‚’è‡ªå‹•çš„ã«æ¤œå‡ºã—ã€æ­£ã—ã„ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰å†ä½œæˆ
- âœ… ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸ`main`ãƒ–ãƒ©ãƒ³ãƒã¸ã®ã™ã¹ã¦ã®å‚ç…§ã‚’è¨­å®šå¯èƒ½ãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ç½®ãæ›ãˆ

## ğŸ› ï¸ äº‹å‰æº–å‚™

**å¿…è¦ãªç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**

```bash
# 1. tmuxã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
# macOS
brew install tmux

# Ubuntu/Debian
sudo apt-get install tmux

# 2. Pythonç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆ3.8ä»¥ä¸Šï¼‰
python --version  # ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª

# 3. pipã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
pip install --upgrade pip

# 4. Claude Codeã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
# è©³ç´°ãªæ‰‹é †ã¯ã“ã¡ã‚‰ã‚’å‚ç…§: https://docs.anthropic.com/en/docs/claude-code/getting-started
# ç’°å¢ƒå¤‰æ•°ã®è¨­å®šï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
export ANTHROPIC_API_KEY="your-api-key"

# 5. Haconiwaã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install haconiwa --upgrade
```

## ğŸ“š åŸºæœ¬çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

**1. YAMLãƒ•ã‚¡ã‚¤ãƒ«ã®å–å¾—ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç«‹ã¡ä¸Šã’**

```bash
# YAMLãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆGitHubã‹ã‚‰ç›´æ¥å–å¾—ï¼‰
wget https://raw.githubusercontent.com/dai-motoki/haconiwa/main/haconiwa-dev-company.yaml

# ã¾ãŸã¯ curlã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
curl -O https://raw.githubusercontent.com/dai-motoki/haconiwa/main/haconiwa-dev-company.yaml

# YAMLé©ç”¨ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§è‡ªå‹•çš„ã«tmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ã‚¢ã‚¿ãƒƒãƒï¼‰
haconiwa apply -f haconiwa-dev-company.yaml
# tmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰é›¢è„±: Ctrl+b, d

# ã¾ãŸã¯ã€ã‚¢ã‚¿ãƒƒãƒã—ãªã„å ´åˆ
haconiwa apply -f haconiwa-dev-company.yaml --no-attach

# ã‚¢ã‚¿ãƒƒãƒã—ãªã‹ã£ãŸå ´åˆã¯ã€æ˜ç¤ºçš„ã«ã‚¢ã‚¿ãƒƒãƒ
haconiwa space attach -c haconiwa-dev-company
```

**2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ“ä½œ**

```bash
# tmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰é›¢è„±: Ctrl+b, d

# åˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–
haconiwa monitor -c haconiwa-dev-company --japanese

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã‚’ç¢ºèª
haconiwa space list

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å†æ¥ç¶š
haconiwa space attach -c haconiwa-dev-company
```

**3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å‰Šé™¤**

```bash
# ã‚¹ãƒšãƒ¼ã‚¹ã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å®Œå…¨å‰Šé™¤
haconiwa space delete -c haconiwa-dev-company --clean-dirs --force
```

## ğŸ“ YAMLæ–‡æ³•è©³ç´°è§£èª¬

Haconiwaã®å®£è¨€å‹YAMLè¨­å®šã¯ã€è¤‡æ•°ã®CRD (Custom Resource Definition) ã‚’ãƒãƒ«ãƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå½¢å¼ã§è¨˜è¿°ã—ã¾ã™ã€‚

### 1. Organization CRDï¼ˆçµ„ç¹”å®šç¾©ï¼‰

```yaml
apiVersion: haconiwa.dev/v1
kind: Organization
metadata:
  name: haconiwa-dev-company-org  # çµ„ç¹”ã®ä¸€æ„è­˜åˆ¥å­
spec:
  companyName: "Haconiwa Development Company"  # ä¼šç¤¾å
  industry: "AI Development Tools & Infrastructure"  # æ¥­ç•Œ
  basePath: "./haconiwa-dev-company"  # çµ„ç¹”ã®ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹
  hierarchy:
    departments:  # éƒ¨é–€å®šç¾©
    - id: "executive"  # éƒ¨é–€IDï¼ˆãƒ«ãƒ¼ãƒ å‰²ã‚Šå½“ã¦ã«ä½¿ç”¨ï¼‰
      name: "Executive Team"
      description: "Company leadership and strategic decision making"
      roles:  # å½¹å‰²å®šç¾©
      - roleType: "management"  # ç®¡ç†è·
        title: "Chief Executive Officer"
        agentId: "ceo-motoki"  # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆID
        responsibilities:
          - "Strategic vision and direction"
          - "Company-wide decision making"
      - roleType: "engineering"  # ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢
        title: "Senior AI Engineer"
        agentId: "ai-lead-nakamura"
        responsibilities:
          - "AI/ML model development"
          - "Algorithm optimization"
```

**Organization CRDã®ä¸»è¦è¦ç´ :**
- `metadata.name`: çµ„ç¹”ã®ä¸€æ„è­˜åˆ¥å­ï¼ˆSpace CRDã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ï¼‰
- `spec.hierarchy.departments`: éƒ¨é–€ã®å®šç¾©ï¼ˆå„éƒ¨é–€ãŒtmuxã®ãƒ«ãƒ¼ãƒ ã«å¯¾å¿œï¼‰
- `spec.hierarchy.departments[].roles`: å„éƒ¨é–€ã®å½¹å‰²å®šç¾©ï¼ˆ4ã¤ã®å½¹å‰²ã§16ãƒšã‚¤ãƒ³ã‚’æ§‹æˆï¼‰

### 2. Space CRDï¼ˆç©ºé–“å®šç¾©ï¼‰

```yaml
apiVersion: haconiwa.dev/v1
kind: Space
metadata:
  name: haconiwa-dev-world  # ã‚¹ãƒšãƒ¼ã‚¹ã®ä¸€æ„è­˜åˆ¥å­
spec:
  nations:  # å›½ãƒ¬ãƒ™ãƒ«ï¼ˆæœ€ä¸Šä½éšå±¤ï¼‰
  - id: jp
    name: Japan
    cities:  # å¸‚ãƒ¬ãƒ™ãƒ«
    - id: tokyo
      name: Tokyo
      villages:  # æ‘ãƒ¬ãƒ™ãƒ«
      - id: haconiwa-village
        name: "Haconiwa Village"
        companies:  # ä¼šç¤¾ãƒ¬ãƒ™ãƒ«ï¼ˆtmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰
        - name: haconiwa-dev-company  # ã‚»ãƒƒã‚·ãƒ§ãƒ³å
          grid: "8x4"  # ã‚°ãƒªãƒƒãƒ‰ã‚µã‚¤ã‚ºï¼ˆ8åˆ—Ã—4è¡Œ=32ãƒšã‚¤ãƒ³ï¼‰
          basePath: "./haconiwa-dev-world"
          organizationRef: "haconiwa-dev-company-org"  # çµ„ç¹”å‚ç…§
          gitRepo:  # Gitãƒªãƒã‚¸ãƒˆãƒªè¨­å®š
            url: "https://github.com/dai-motoki/haconiwa"
            defaultBranch: "dev"  # ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã®åŸºã¨ãªã‚‹ãƒ–ãƒ©ãƒ³ãƒ
            auth: "https"
          agentDefaults:  # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šï¼ˆé–‹ç™ºäºˆå®šï¼‰
            type: "claude-code"
            permissions:  # æ¨©é™è¨­å®šï¼ˆé–‹ç™ºäºˆå®šæ©Ÿèƒ½ï¼‰
              allow:
                - "Bash(python -m pytest)"
                - "Bash(python -m ruff)"
                - "Bash(python -m mypy)"
                - "Read(src/**/*.py)"
                - "Write(src/**/*.py)"
              deny:
                - "Bash(rm -rf /)"
          buildings:  # å»ºç‰©ãƒ¬ãƒ™ãƒ«
          - id: "hq-tower"
            name: "Haconiwa HQ Tower"
            floors:  # éšå±¤ãƒ¬ãƒ™ãƒ«
            - id: "executive-floor"
              name: "Executive Floor"
              rooms:  # éƒ¨å±‹ãƒ¬ãƒ™ãƒ«ï¼ˆtmuxã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ï¼‰
              - id: room-executive  # Executiveç”¨ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
                name: "Executive Room"
                description: "C-level executives and senior leadership"
              - id: room-standby  # Standbyç”¨ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
                name: "Standby Room"
                description: "Ready-to-deploy talent pool"
```

**Space CRDã®éšå±¤æ§‹é€ :**
- `nations` > `cities` > `villages` > `companies` > `buildings` > `floors` > `rooms`
- å„éšå±¤ã«æ³•çš„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆlaw/ï¼‰ã‚’é…ç½®å¯èƒ½
- `companies`ãŒtmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ã«å¯¾å¿œ
- `rooms`ãŒtmuxã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«å¯¾å¿œ

**gitRepoè¨­å®šã®è©³ç´°è§£èª¬:**
- `url`: ã‚¯ãƒ­ãƒ¼ãƒ³ã™ã‚‹Gitãƒªãƒã‚¸ãƒˆãƒªã®URL
- `defaultBranch`: ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã™ã‚‹éš›ã®åŸºæº–ã¨ãªã‚‹ãƒ–ãƒ©ãƒ³ãƒ
  - ä¾‹: `defaultBranch: "dev"` ã®å ´åˆã€ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã¯`dev`ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ä½œæˆã•ã‚Œã‚‹
  - ã“ã‚Œã«ã‚ˆã‚Šã€`main`ãƒ–ãƒ©ãƒ³ãƒã‚’ä¿è­·ã—ãªãŒã‚‰ã€é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’æ´¾ç”Ÿã•ã›ã‚‹ã“ã¨ãŒå¯èƒ½
- `auth`: èªè¨¼æ–¹å¼ï¼ˆ"https" ã¾ãŸã¯ "ssh"ï¼‰

**é‡è¦**: `defaultBranch`ã®è¨­å®šã«ã‚ˆã‚Šã€Task CRDã§`worktree: true`ãŒæŒ‡å®šã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã¯ã€ã“ã®ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰æ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒã¨worktreeãŒä½œæˆã•ã‚Œã¾ã™ã€‚Git worktreeã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€å„ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã¯ç‹¬ç«‹ã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«éš”é›¢ã•ã‚Œã€ä»¥ä¸‹ã®ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ï¼š
- å„ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒãŒå°‚ç”¨ã®ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒã¤ãŸã‚ã€ä¸¦è¡Œé–‹ç™ºãŒå¯èƒ½
- ãƒ–ãƒ©ãƒ³ãƒã®åˆ‡ã‚Šæ›¿ãˆãªã—ã«è¤‡æ•°ã®ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã‚’åŒæ™‚é€²è¡Œã§ãã‚‹
- å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒä»–ã®ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã®ä½œæ¥­ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã“ã¨ãªãé–‹ç™ºå¯èƒ½
- ä¾‹: `task_ai_strategy_01`ã¯`./haconiwa-dev-world/tasks/task_ai_strategy_01/`ã«ç‹¬ç«‹ã—ãŸä½œæ¥­ç’°å¢ƒã¨ã—ã¦ä½œæˆã•ã‚Œã‚‹

**agentDefaults.permissionsï¼ˆé–‹ç™ºäºˆå®šæ©Ÿèƒ½ï¼‰:**
- ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚„æ“ä½œã‚’åˆ¶é™ã™ã‚‹æ©Ÿèƒ½
- `allow`: è¨±å¯ã•ã‚Œã‚‹ã‚³ãƒãƒ³ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³
- `deny`: ç¦æ­¢ã•ã‚Œã‚‹ã‚³ãƒãƒ³ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³
- ç¾åœ¨ã¯è¨­å®šå€¤ã¨ã—ã¦è¨˜è¿°å¯èƒ½ã ãŒã€å®Ÿéš›ã®æ¨©é™åˆ¶å¾¡ã¯æœªå®Ÿè£…

### 3. Task CRDï¼ˆã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå®šç¾©ï¼‰

```yaml
apiVersion: haconiwa.dev/v1
kind: Task
metadata:
  name: task_ai_strategy_01  # ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã®ä¸€æ„è­˜åˆ¥å­
spec:
  taskId: task_ai_strategy_01  # ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒID
  title: "AI Strategy Development"  # ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã‚¿ã‚¤ãƒˆãƒ«
  description: |  # ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ã®è©³ç´°èª¬æ˜
    ## AI Strategy Development
    
    Develop comprehensive AI strategy for Haconiwa platform.
    
    ### Requirements:
    - Market analysis
    - Technology roadmap
    - Competitive analysis
    - Investment planning
  assignee: "ceo-motoki"  # å‰²ã‚Šå½“ã¦å…ˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆID
  spaceRef: "haconiwa-dev-company"  # æ‰€å±ã‚¹ãƒšãƒ¼ã‚¹
  priority: "high"  # å„ªå…ˆåº¦ï¼ˆhigh/medium/lowï¼‰
  worktree: true  # Git worktreeã‚’ä½œæˆã™ã‚‹ã‹
  branch: "strategy/ai-roadmap"  # ãƒ–ãƒ©ãƒ³ãƒå
```

**Task CRDã®ä¸»è¦è¦ç´ :**
- `assignee`: Organization CRDã§å®šç¾©ã—ãŸã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆIDã‚’æŒ‡å®š
- `spaceRef`: æ‰€å±ã™ã‚‹companyåã‚’æŒ‡å®š
- `worktree`: trueã®å ´åˆã€defaultBranchã‹ã‚‰ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
- `branch`: ä½œæˆã™ã‚‹ãƒ–ãƒ©ãƒ³ãƒå

### 4. ãƒãƒ«ãƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹æˆ

```yaml
# çµ„ç¹”å®šç¾©
---
apiVersion: haconiwa.dev/v1
kind: Organization
metadata:
  name: my-org
spec:
  # ...

---
# ã‚¹ãƒšãƒ¼ã‚¹å®šç¾©
apiVersion: haconiwa.dev/v1
kind: Space
metadata:
  name: my-space
spec:
  # ...

---
# ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå®šç¾©ï¼ˆè¤‡æ•°å¯ï¼‰
apiVersion: haconiwa.dev/v1
kind: Task
metadata:
  name: task-1
spec:
  # ...
```

**YAMLãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹:**
1. çµ„ç¹”å®šç¾©ã‚’æœ€åˆã«é…ç½®
2. ã‚¹ãƒšãƒ¼ã‚¹å®šç¾©ã‚’æ¬¡ã«é…ç½®
3. ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå®šç¾©ã‚’æœ€å¾Œã«é…ç½®ï¼ˆãƒ«ãƒ¼ãƒ ã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–æ¨å¥¨ï¼‰
4. `---`ã§å„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’åŒºåˆ‡ã‚‹

### 5. å®Ÿè¡Œæ™‚ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼

1. **YAMLãƒ‘ãƒ¼ã‚¹**: ãƒãƒ«ãƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å€‹åˆ¥ã®CRDã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«åˆ†è§£
2. **çµ„ç¹”ä½œæˆ**: Organization CRDã‹ã‚‰éƒ¨é–€ãƒ»å½¹å‰²æ§‹é€ ã‚’æ§‹ç¯‰
3. **ã‚¹ãƒšãƒ¼ã‚¹ä½œæˆ**: Space CRDã‹ã‚‰tmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦æ§‹é€ ã‚’æ§‹ç¯‰
4. **ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒä½œæˆ**: Task CRDã‹ã‚‰Git worktreeã¨ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå‰²ã‚Šå½“ã¦ã‚’ä½œæˆ
   - `defaultBranch`ã‹ã‚‰å„ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã®ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
   - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®
5. **Claudeå®Ÿè¡Œ**: å„ãƒšã‚¤ãƒ³ã§`cd {path} && claude`ã‚’è‡ªå‹•å®Ÿè¡Œ

### 6. Law CRDï¼ˆæ³•çš„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å®šç¾©ï¼‰- é–‹ç™ºäºˆå®š

```yaml
apiVersion: haconiwa.dev/v1
kind: Law
metadata:
  name: haconiwa-legal-framework
spec:
  globalRules:  # ã‚°ãƒ­ãƒ¼ãƒãƒ«è¦å‰‡
    - name: "security-policy"
      description: "å…¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼"
      content: |
        ## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼
        - æ©Ÿå¯†æƒ…å ±ã®å–ã‚Šæ‰±ã„è¦å®š
        - ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã®ç®¡ç†
        - ãƒ‡ãƒ¼ã‚¿ä¿è­·æ–¹é‡
    - name: "code-standards"
      description: "ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„"
      content: |
        ## ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ¨™æº–
        - PEP 8æº–æ‹ ï¼ˆPythonï¼‰
        - ESLintè¨­å®šï¼ˆJavaScriptï¼‰
        - å‹å®‰å…¨æ€§ã®ç¢ºä¿
  
  hierarchicalRules:  # éšå±¤åˆ¥è¦å‰‡
    nation:
      enabled: true
      rules:
        - "å›½ãƒ¬ãƒ™ãƒ«ã®æ³•çš„è¦ä»¶"
        - "ãƒ‡ãƒ¼ã‚¿ä¸»æ¨©ã«é–¢ã™ã‚‹è¦å®š"
    city:
      enabled: true
      rules:
        - "åœ°åŸŸã®ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹è¦ä»¶"
        - "æ¥­ç•Œæ¨™æº–ã¸ã®æº–æ‹ "
    company:
      enabled: true
      rules:
        - "çµ„ç¹”ã®ã‚¬ãƒãƒŠãƒ³ã‚¹ãƒãƒªã‚·ãƒ¼"
        - "å†…éƒ¨çµ±åˆ¶è¦å®š"
  
  permissions:  # æ¨©é™ç®¡ç†
    defaultPolicy: "deny"  # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯æ‹’å¦
    rules:
      - resource: "production-database"
        actions: ["read"]
        subjects: ["senior-engineers", "cto"]
      - resource: "source-code"
        actions: ["read", "write"]
        subjects: ["all-engineers"]
      - resource: "financial-data"
        actions: ["read", "write"]
        subjects: ["cfo", "finance-team"]
  
  systemPrompts:  # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”¨ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
    base: |
      ã‚ãªãŸã¯Haconiwaé–‹ç™ºä¼šç¤¾ã®AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã™ã€‚
      ä»¥ä¸‹ã®è¦å‰‡ã¨ãƒãƒªã‚·ãƒ¼ã«å¾“ã£ã¦è¡Œå‹•ã—ã¦ãã ã•ã„ã€‚
    roleSpecific:
      ceo: "æˆ¦ç•¥çš„æ„æ€æ±ºå®šã¨ä¼šç¤¾å…¨ä½“ã®æ–¹å‘æ€§ã«ç„¦ç‚¹ã‚’å½“ã¦ã¦ãã ã•ã„ã€‚"
      engineer: "ã‚³ãƒ¼ãƒ‰å“è³ªã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’é‡è¦–ã—ã¦ãã ã•ã„ã€‚"
      security: "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã‚’æœ€å„ªå…ˆã«è€ƒãˆã¦ãã ã•ã„ã€‚"
```

**Law CRDã®ä¸»è¦è¦ç´ ï¼ˆé–‹ç™ºäºˆå®šï¼‰:**
- `globalRules`: å…¨éšå±¤ã«é©ç”¨ã•ã‚Œã‚‹ã‚°ãƒ­ãƒ¼ãƒãƒ«è¦å‰‡
- `hierarchicalRules`: éšå±¤åˆ¥ï¼ˆnation/city/companyç­‰ï¼‰ã®è¦å‰‡å®šç¾©
- `permissions`: ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ç®¡ç†
- `systemPrompts`: å½¹å‰²åˆ¥ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¡Œå‹•æŒ‡é‡

**çµ±åˆäºˆå®šã®æ©Ÿèƒ½:**
- Organization/Space CRDã‹ã‚‰ã®è‡ªå‹•å‚ç…§
- éšå±¤çš„ãªè¦å‰‡ã®ç¶™æ‰¿ãƒ¡ã‚«ãƒ‹ã‚ºãƒ 
- å®Ÿè¡Œæ™‚ã®æ¨©é™ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½
- ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®è‡ªå‹•ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ³¨å…¥

## ğŸš€ ã‚³ã‚¢ã‚³ãƒãƒ³ãƒ‰

### ğŸ”§ ã‚³ãƒãƒ³ãƒ‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

**è©³ç´°ãªä½¿ç”¨æ–¹æ³•ã¨ä¾‹ã‚’å«ã‚€å®Œå…¨ã‚¬ã‚¤ãƒ‰:**

- **[ğŸ“‹ apply](docs/commands/apply.md)** - .envãƒ•ã‚¡ã‚¤ãƒ«é…å¸ƒã«ã‚ˆã‚‹ç’°å¢ƒå¤‰æ•°ç®¡ç†
- **[ğŸ” scan](docs/commands/scan.md)** - AIãƒ¢ãƒ‡ãƒ«æ¤œç´¢ãƒ»åˆ†æãƒ»ä¸¦åˆ—è¨­å®šç”Ÿæˆ
- **[âš¡ tool parallel-dev](docs/commands/tool-parallel-dev.md)** - Claude Code SDKä¸¦åˆ—å®Ÿè¡Œ

### ã‚¯ã‚¤ãƒƒã‚¯ã‚³ãƒãƒ³ãƒ‰æ¦‚è¦

```bash
# ç’°å¢ƒå¤‰æ•°ä»˜ãã§YAMLé©ç”¨
haconiwa apply -f config.yaml --env .env.base --env .env.local

# AIãƒ¢ãƒ‡ãƒ«æ¤œç´¢ã¨è¨­å®šç”Ÿæˆ
haconiwa scan model gpt-4
haconiwa scan generate-parallel-config --action add_tests

# Claude Code SDKã§ä¸¦åˆ—ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†
haconiwa tool parallel-dev claude -f file1.py,file2.py -p "prompt1","prompt2" -m 5
```

## ğŸš€ ä»Šã™ãä½¿ãˆã‚‹æ©Ÿèƒ½

### apply yamlãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆv1.0 æ–°æ©Ÿèƒ½ï¼‰

å®£è¨€å‹YAMLãƒ•ã‚¡ã‚¤ãƒ«ã§ã®ãƒãƒ«ãƒãƒ«ãƒ¼ãƒ ãƒ»ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç’°å¢ƒç®¡ç†ãŒ**ä»Šã™ã**åˆ©ç”¨ã§ãã¾ã™ï¼š

```bash
# 1. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install haconiwa --upgrade

# 2. YAMLãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆGitHubã‹ã‚‰ç›´æ¥å–å¾—ï¼‰
wget https://raw.githubusercontent.com/dai-motoki/haconiwa/main/test-multiroom-with-tasks.yaml

# ã¾ãŸã¯ curlã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
curl -O https://raw.githubusercontent.com/dai-motoki/haconiwa/main/test-multiroom-with-tasks.yaml

# ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ç¢ºèª
cat test-multiroom-with-tasks.yaml

# 3. YAMLé©ç”¨ã§ãƒãƒ«ãƒãƒ«ãƒ¼ãƒ ç’°å¢ƒä½œæˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§è‡ªå‹•ã‚¢ã‚¿ãƒƒãƒï¼‰
haconiwa apply -f test-multiroom-with-tasks.yaml

# 3b. è‡ªå‹•ã‚¢ã‚¿ãƒƒãƒãªã—ã§é©ç”¨
haconiwa apply -f test-multiroom-with-tasks.yaml --no-attach

# 4. ã‚¹ãƒšãƒ¼ã‚¹ä¸€è¦§ç¢ºèª
haconiwa space list

# 5. ã‚¹ãƒšãƒ¼ã‚¹ä¸€è¦§ç¢ºèªï¼ˆçŸ­ç¸®å½¢ï¼‰
haconiwa space ls

# 6. ç‰¹å®šãƒ«ãƒ¼ãƒ ã«æ¥ç¶šï¼ˆè‡ªå‹•ã‚¢ã‚¿ãƒƒãƒã—ãªã‹ã£ãŸå ´åˆï¼‰
haconiwa space attach -c test-company-multiroom-tasks -r room-frontend

# 7. å…¨ãƒšã‚¤ãƒ³ã§claudeã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
haconiwa space run -c test-company-multiroom-tasks --claude-code

# 8. ç‰¹å®šãƒ«ãƒ¼ãƒ ã§ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
haconiwa space run -c test-company-multiroom-tasks --cmd "echo hello" -r room-backend

# 9. ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³ã§ã‚³ãƒãƒ³ãƒ‰ç¢ºèª
haconiwa space run -c test-company-multiroom-tasks --claude-code --dry-run

# 10. ã‚»ãƒƒã‚·ãƒ§ãƒ³åœæ­¢
haconiwa space stop -c test-company-multiroom-tasks

# 11. å®Œå…¨å‰Šé™¤ï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚‚å‰Šé™¤ï¼‰
haconiwa space delete -c test-company-multiroom-tasks --clean-dirs --force

# 12. å®Œå…¨å‰Šé™¤ï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ä¿æŒï¼‰
haconiwa space delete -c test-company-multiroom-tasks --force
```

**ğŸ“ è‡ªå‹•ä½œæˆã•ã‚Œã‚‹ãƒãƒ«ãƒãƒ«ãƒ¼ãƒ æ§‹é€ ï¼ˆéšå±¤çš„æ³•çš„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼‰:**
```
./test-multiroom-desks/
â”œâ”€â”€ jp/                                  # å›½ãƒ¬ãƒ™ãƒ« (Nation Level)
â”‚   â”œâ”€â”€ law/                            # å›½å®¶æ³•ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚   â”‚   â”œâ”€â”€ global-rules.md            # ã‚°ãƒ­ãƒ¼ãƒãƒ«è¦å‰‡
â”‚   â”‚   â”œâ”€â”€ system-prompts/            # ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ nation-agent-prompt.md
â”‚   â”‚   â””â”€â”€ permissions/               # æ¨©é™ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ code-permissions.yaml
â”‚   â”‚       â””â”€â”€ file-permissions.yaml
â”‚   â””â”€â”€ tokyo/                         # å¸‚ãƒ¬ãƒ™ãƒ« (City Level)
â”‚       â”œâ”€â”€ law/                       # å¸‚æ³•ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚       â”‚   â”œâ”€â”€ regional-rules.md     # åœ°åŸŸè¦å‰‡
â”‚       â”‚   â”œâ”€â”€ system-prompts/       # ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚       â”‚   â”‚   â””â”€â”€ city-agent-prompt.md
â”‚       â”‚   â””â”€â”€ permissions/          # æ¨©é™ç®¡ç†
â”‚       â”‚       â”œâ”€â”€ code-permissions.yaml
â”‚       â”‚       â””â”€â”€ file-permissions.yaml
â”‚       â””â”€â”€ test-village/              # æ‘ãƒ¬ãƒ™ãƒ« (Village Level)
â”‚           â”œâ”€â”€ law/                   # æ‘æ³•ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚           â”‚   â”œâ”€â”€ local-rules.md    # ãƒ­ãƒ¼ã‚«ãƒ«è¦å‰‡
â”‚           â”‚   â”œâ”€â”€ system-prompts/   # ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚           â”‚   â”‚   â””â”€â”€ village-agent-prompt.md
â”‚           â”‚   â””â”€â”€ permissions/      # æ¨©é™ç®¡ç†
â”‚           â”‚       â”œâ”€â”€ code-permissions.yaml
â”‚           â”‚       â””â”€â”€ file-permissions.yaml
â”‚           â””â”€â”€ test-multiroom-company/    # ä¼šç¤¾ãƒ¬ãƒ™ãƒ« (Company Level)
â”‚               â”œâ”€â”€ law/               # ä¼šç¤¾æ³•ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚               â”‚   â”œâ”€â”€ project-rules.md  # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦å‰‡
â”‚               â”‚   â”œâ”€â”€ system-prompts/   # ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚               â”‚   â”‚   â””â”€â”€ company-agent-prompt.md
â”‚               â”‚   â””â”€â”€ permissions/      # æ¨©é™ç®¡ç†
â”‚               â”‚       â”œâ”€â”€ code-permissions.yaml
â”‚               â”‚       â””â”€â”€ file-permissions.yaml
â”‚               â””â”€â”€ headquarters/      # å»ºç‰©ãƒ¬ãƒ™ãƒ« (Building Level)
â”‚                   â”œâ”€â”€ law/           # å»ºç‰©æ³•ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚                   â”‚   â”œâ”€â”€ building-rules.md # å»ºç‰©è¦å‰‡
â”‚                   â”‚   â”œâ”€â”€ system-prompts/   # ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚                   â”‚   â”‚   â””â”€â”€ building-agent-prompt.md
â”‚                   â”‚   â””â”€â”€ permissions/      # æ¨©é™ç®¡ç†
â”‚                   â”‚       â”œâ”€â”€ code-permissions.yaml
â”‚                   â”‚       â””â”€â”€ file-permissions.yaml
â”‚                   â””â”€â”€ floor-1/       # éšå±¤ãƒ¬ãƒ™ãƒ« (Floor Level)
â”‚                       â”œâ”€â”€ law/       # éšå±¤æ³•ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚                       â”‚   â”œâ”€â”€ floor-rules.md    # éšå±¤è¦å‰‡
â”‚                       â”‚   â”œâ”€â”€ system-prompts/   # ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚                       â”‚   â”‚   â””â”€â”€ floor-agent-prompt.md
â”‚                       â”‚   â””â”€â”€ permissions/      # æ¨©é™ç®¡ç†
â”‚                       â”‚       â”œâ”€â”€ code-permissions.yaml
â”‚                       â”‚       â””â”€â”€ file-permissions.yaml
â”‚                       â”œâ”€â”€ room-01/   # éƒ¨å±‹ãƒ¬ãƒ™ãƒ« (Room Level)
â”‚                       â”‚   â”œâ”€â”€ law/   # éƒ¨å±‹æ³•ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚                       â”‚   â”‚   â”œâ”€â”€ team-rules.md     # ãƒãƒ¼ãƒ è¦å‰‡
â”‚                       â”‚   â”‚   â”œâ”€â”€ system-prompts/   # ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚                       â”‚   â”‚   â”‚   â””â”€â”€ room-agent-prompt.md
â”‚                       â”‚   â”‚   â””â”€â”€ permissions/      # æ¨©é™ç®¡ç†
â”‚                       â”‚   â”‚       â”œâ”€â”€ code-permissions.yaml
â”‚                       â”‚   â”‚       â””â”€â”€ file-permissions.yaml
â”‚                       â”‚   â””â”€â”€ desks/         # ãƒ‡ã‚¹ã‚¯ãƒ¬ãƒ™ãƒ« (Desk Level)
â”‚                       â”‚       â”œâ”€â”€ law/       # ãƒ‡ã‚¹ã‚¯æ³•ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚                       â”‚       â”‚   â”œâ”€â”€ agent-rules.md    # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¦å‰‡
â”‚                       â”‚       â”‚   â”œâ”€â”€ system-prompts/   # ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚                       â”‚       â”‚   â”‚   â””â”€â”€ desk-agent-prompt.md
â”‚                       â”‚       â”‚   â””â”€â”€ permissions/      # æ¨©é™ç®¡ç†
â”‚                       â”‚       â”‚       â”œâ”€â”€ code-permissions.yaml
â”‚                       â”‚       â”‚       â””â”€â”€ file-permissions.yaml
â”‚                       â”‚       â”œâ”€â”€ org-01-pm/
â”‚                       â”‚       â”œâ”€â”€ org-01-worker-a/
â”‚                       â”‚       â”œâ”€â”€ org-01-worker-b/
â”‚                       â”‚       â”œâ”€â”€ org-01-worker-c/
â”‚                       â”‚       â”œâ”€â”€ org-02-pm/
â”‚                       â”‚       â”œâ”€â”€ org-02-worker-a/
â”‚                       â”‚       â”œâ”€â”€ org-02-worker-b/
â”‚                       â”‚       â”œâ”€â”€ org-02-worker-c/
â”‚                       â”‚       â”œâ”€â”€ org-03-pm/
â”‚                       â”‚       â”œâ”€â”€ org-03-worker-a/
â”‚                       â”‚       â”œâ”€â”€ org-03-worker-b/
â”‚                       â”‚       â”œâ”€â”€ org-03-worker-c/
â”‚                       â”‚       â”œâ”€â”€ org-04-pm/
â”‚                       â”‚       â”œâ”€â”€ org-04-worker-a/
â”‚                       â”‚       â”œâ”€â”€ org-04-worker-b/
â”‚                       â”‚       â””â”€â”€ org-04-worker-c/
â”‚                       â””â”€â”€ room-02/   # éƒ¨å±‹ãƒ¬ãƒ™ãƒ« (Room Level)
â”‚                           â”œâ”€â”€ law/   # éƒ¨å±‹æ³•ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª (åŒæ§˜ã®æ§‹æˆ)
â”‚                           â””â”€â”€ desks/ # ãƒ‡ã‚¹ã‚¯ãƒ¬ãƒ™ãƒ« (åŒæ§˜ã®æ§‹æˆ)
â”œâ”€â”€ standby/                # å¾…æ©Ÿä¸­ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆ26 agentsï¼‰
â”‚   â””â”€â”€ README.md          # è‡ªå‹•ç”Ÿæˆèª¬æ˜ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ tasks/                  # ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå‰²ã‚Šå½“ã¦æ¸ˆã¿ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆ6 agentsï¼‰
    â”œâ”€â”€ main/              # ãƒ¡ã‚¤ãƒ³Gitãƒªãƒã‚¸ãƒˆãƒª
    â”œâ”€â”€ 20250609061748_frontend-ui-design_01/     # ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒ1
    â”œâ”€â”€ 20250609061749_backend-api-development_02/ # ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒ2
    â”œâ”€â”€ 20250609061750_database-schema-design_03/  # ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒ3
    â”œâ”€â”€ 20250609061751_devops-ci-cd-pipeline_04/   # ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒ4
    â”œâ”€â”€ 20250609061752_user-authentication_05/     # ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒ5
    â””â”€â”€ 20250609061753_performance-optimization_06/ # ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒ6
```

**ğŸ¢ tmuxæ§‹é€ ï¼ˆãƒãƒ«ãƒãƒ«ãƒ¼ãƒ ï¼‰:**
```
test-multiroom-company (Session)
â”œâ”€â”€ Window 0: Alpha Room (16ãƒšã‚¤ãƒ³)
â”‚   â”œâ”€â”€ org-01 (4ãƒšã‚¤ãƒ³): pm, worker-a, worker-b, worker-c
â”‚   â”œâ”€â”€ org-02 (4ãƒšã‚¤ãƒ³): pm, worker-a, worker-b, worker-c  
â”‚   â”œâ”€â”€ org-03 (4ãƒšã‚¤ãƒ³): pm, worker-a, worker-b, worker-c
â”‚   â””â”€â”€ org-04 (4ãƒšã‚¤ãƒ³): pm, worker-a, worker-b, worker-c
â””â”€â”€ Window 1: Beta Room (16ãƒšã‚¤ãƒ³)
    â”œâ”€â”€ org-01 (4ãƒšã‚¤ãƒ³): pm, worker-a, worker-b, worker-c
    â”œâ”€â”€ org-02 (4ãƒšã‚¤ãƒ³): pm, worker-a, worker-b, worker-c
    â”œâ”€â”€ org-03 (4ãƒšã‚¤ãƒ³): pm, worker-a, worker-b, worker-c
    â””â”€â”€ org-04 (4ãƒšã‚¤ãƒ³): pm, worker-a, worker-b, worker-c
```

**âœ… YAMLé©ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿéš›ã®æ©Ÿèƒ½:**
- ğŸ¢ **å®£è¨€å‹ç®¡ç†**: YAMLãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚‹ç’°å¢ƒå®šç¾©
- ğŸ¤– **ãƒãƒ«ãƒãƒ«ãƒ¼ãƒ å¯¾å¿œ**: Roomå˜ä½ã®Windowåˆ†é›¢ï¼ˆFrontend/Backendï¼‰
- ğŸ”„ **è‡ªå‹•ãƒ«ãƒ¼ãƒ åˆ†æ•£**: ãƒ«ãƒ¼ãƒ åˆ¥Windowã§ã®ãƒšã‚¤ãƒ³é…ç½®
- ğŸš€ **ä¸€æ‹¬ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ**: å…¨ãƒšã‚¤ãƒ³ã¾ãŸã¯ãƒ«ãƒ¼ãƒ åˆ¥å®Ÿè¡Œ
- ğŸ¯ **æŸ”è»Ÿãªã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°**: ãƒ«ãƒ¼ãƒ æŒ‡å®šã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
- ğŸ›ï¸ **éšå±¤ç®¡ç†**: Nation > City > Village > Company
- ğŸ“„ **å¤–éƒ¨è¨­å®š**: YAMLè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã®å®Œå…¨ç®¡ç†
- ğŸ—‘ï¸ **æŸ”è»Ÿãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—**: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä¿æŒãƒ»å‰Šé™¤ã®é¸æŠ
- ğŸ“Š **32ãƒšã‚¤ãƒ³ç®¡ç†**: 2ãƒ«ãƒ¼ãƒ  Ã— 16ãƒšã‚¤ãƒ³æ§‹æˆ
- ğŸ”§ **ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³å¯¾å¿œ**: å®Ÿè¡Œå‰ã®ã‚³ãƒãƒ³ãƒ‰ç¢ºèª
- ğŸ¯ **ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå‰²ã‚Šå½“ã¦ã‚·ã‚¹ãƒ†ãƒ **: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè‡ªå‹•ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç§»å‹•
### tmux ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç’°å¢ƒï¼ˆå¾“æ¥æ–¹å¼ï¼‰

4x4ã‚°ãƒªãƒƒãƒ‰ã®ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–‹ç™ºç’°å¢ƒã‚’**ä»Šã™ã**ä½œæˆãƒ»ç®¡ç†ã§ãã¾ã™ï¼š

```bash
# 1. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install haconiwa --upgrade


# 2-1. ç›´æ¥Tmuxã§ã‚¢ã‚¿ãƒƒãƒã™ã‚‹å ´åˆã¯ã“ã¡ã‚‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼ˆ4çµ„ç¹” Ã— 4å½¹å‰² = 16ãƒšã‚¤ãƒ³ï¼‰ã€‚
haconiwa company build --name my-company \
  --org01-name "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºéƒ¨" --task01 "UIè¨­è¨ˆ" \
  --org02-name "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºéƒ¨" --task02 "APIé–‹ç™º" \
  --org03-name "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹éƒ¨é–€" --task03 "ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ" \
  --org04-name "DevOpséƒ¨é–€" --task04 "ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰"

# 2. ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç’°å¢ƒä½œæˆï¼ˆ4çµ„ç¹” Ã— 4å½¹å‰² = 16ãƒšã‚¤ãƒ³ï¼‰
haconiwa company build --name my-company \
  --org01-name "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºéƒ¨" --task01 "UIè¨­è¨ˆ" \
  --org02-name "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºéƒ¨" --task02 "APIé–‹ç™º" \
  --org03-name "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹éƒ¨é–€" --task03 "ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ" \
  --org04-name "DevOpséƒ¨é–€" --task04 "ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰" --no-attach

# 3. ä¼šç¤¾ä¸€è¦§ç¢ºèª
haconiwa company list

# 4. æ—¢å­˜ã®ä¼šç¤¾ã«æ¥ç¶š
haconiwa company attach my-company

# 5. ä¼šç¤¾è¨­å®šæ›´æ–°ï¼ˆæ—¢å­˜ä¼šç¤¾ã®çµ„ç¹”åå¤‰æ›´ï¼‰
haconiwa company build --name my-company \
  --org01-name "æ–°ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰éƒ¨" --task01 "Reacté–‹ç™º"

# 6. ä¼šç¤¾ã‚’å®Œå…¨ã«å†æ§‹ç¯‰ï¼ˆ--rebuildã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
haconiwa company build --name my-company \
  --org01-name "ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«é–‹ç™ºéƒ¨" \
  --rebuild

# 7. ä¼šç¤¾çµ‚äº†ï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚‚å‰Šé™¤ï¼‰
haconiwa company kill my-company --clean-dirs --force

# 8. ä¼šç¤¾çµ‚äº†ï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ä¿æŒï¼‰
haconiwa company kill my-company --force
```

**ğŸ“ è‡ªå‹•ä½œæˆã•ã‚Œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ :**
```
/path/to/desks/
â”œâ”€â”€ org-01/
â”‚   â”œâ”€â”€ 01boss/          # PMç”¨ãƒ‡ã‚¹ã‚¯
â”‚   â”œâ”€â”€ 01worker-a/      # Worker-Aç”¨ãƒ‡ã‚¹ã‚¯
â”‚   â”œâ”€â”€ 01worker-b/      # Worker-Bç”¨ãƒ‡ã‚¹ã‚¯
â”‚   â””â”€â”€ 01worker-c/      # Worker-Cç”¨ãƒ‡ã‚¹ã‚¯
â”œâ”€â”€ org-02/
â”‚   â”œâ”€â”€ 02boss/
â”‚   â”œâ”€â”€ 02worker-a/
â”‚   â”œâ”€â”€ 02worker-b/
â”‚   â””â”€â”€ 02worker-c/
â”œâ”€â”€ org-03/ (åŒæ§˜ã®æ§‹é€ )
â””â”€â”€ org-04/ (åŒæ§˜ã®æ§‹é€ )
```

**âœ… å®Ÿéš›ã«å‹•ä½œã™ã‚‹æ©Ÿèƒ½:**
- ğŸ¢ **çµ±åˆbuildã‚³ãƒãƒ³ãƒ‰**: æ–°è¦ä½œæˆãƒ»æ›´æ–°ãƒ»å†æ§‹ç¯‰ã‚’ä¸€ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿç¾
- ğŸ¤– **è‡ªå‹•å­˜åœ¨ãƒã‚§ãƒƒã‚¯**: ä¼šç¤¾ã®å­˜åœ¨ã‚’è‡ªå‹•åˆ¤å®šã—é©åˆ‡ãªå‹•ä½œã‚’é¸æŠ
- ğŸ”„ **ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹æ›´æ–°**: æ—¢å­˜ä¼šç¤¾ã®è¨­å®šå¤‰æ›´ã‚’å®‰å…¨ã«å®Ÿè¡Œ
- ğŸ”¨ **å¼·åˆ¶å†æ§‹ç¯‰**: --rebuildã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å®Œå…¨ãªå†ä½œæˆ
- ğŸ—ï¸ **è‡ªå‹•ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ**: çµ„ç¹”ãƒ»å½¹å‰²åˆ¥ãƒ‡ã‚¹ã‚¯è‡ªå‹•ä½œæˆ
- ğŸ·ï¸ **ã‚«ã‚¹ã‚¿ãƒ çµ„ç¹”åãƒ»ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå**: å‹•çš„ãªã‚¿ã‚¤ãƒˆãƒ«è¨­å®š
- ğŸ—‘ï¸ **æŸ”è»Ÿãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—**: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä¿æŒãƒ»å‰Šé™¤ã®é¸æŠå¯èƒ½
- ğŸ›ï¸ **ä¼šç¤¾ç®¡ç†**: ä½œæˆãƒ»ä¸€è¦§ãƒ»æ¥ç¶šãƒ»å‰Šé™¤ã®å®Œå…¨ã‚µãƒãƒ¼ãƒˆ
- ğŸ“„ **READMEè‡ªå‹•ç”Ÿæˆ**: å„ãƒ‡ã‚¹ã‚¯ã«README.mdè‡ªå‹•ä½œæˆ
- ğŸ“Š **4x4ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**: çµ„ç¹”çš„tmuxãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆ16ãƒšã‚¤ãƒ³ï¼‰

### ğŸ“Š ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ âœ… **ãƒ†ã‚¹ãƒˆæ¸ˆã¿**

ä½œæˆã—ãŸtmuxãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç’°å¢ƒã‚’**ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç›£è¦–**ã§ãã¾ã™ï¼š

```bash
# 1. åŸºæœ¬çš„ãªãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼ˆå…¨windowè¡¨ç¤ºï¼‰
haconiwa monitor -c test-company-multiroom-tasks

# 2. çŸ­ç¸®å½¢ã‚¨ã‚¤ãƒªã‚¢ã‚¹
haconiwa mon -c my-company

# 3. æ—¥æœ¬èªUIè¡¨ç¤º
haconiwa monitor -c my-company --japanese

# 4. ç‰¹å®šã®windowï¼ˆéƒ¨å±‹ï¼‰ã®ã¿ç›£è¦–
haconiwa monitor -c test-company-multiroom-tasks -w 0          # Frontendéƒ¨å±‹ã®ã¿
haconiwa monitor -c test-company-multiroom-tasks -w Backend   # Backendéƒ¨å±‹ã®ã¿

# 5. è¡¨ç¤ºåˆ—ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼ˆæ¨å¥¨è¨­å®šï¼‰
haconiwa monitor -c my-company --columns room pane title claude agent cpu status --japanese

# 6. é«˜é »åº¦æ›´æ–°ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹èª¿æ•´ï¼‰
haconiwa monitor -c my-company -r 0.5 --japanese  # 0.5ç§’é–“éš”æ›´æ–°

# 7. ä½é »åº¦æ›´æ–°ï¼ˆCPUãƒªã‚½ãƒ¼ã‚¹ç¯€ç´„ï¼‰
haconiwa monitor -c my-company -r 5 --japanese    # 5ç§’é–“éš”æ›´æ–°

# 8. ãƒŸãƒ‹ãƒãƒ«è¡¨ç¤ºï¼ˆæœ€å°é™ã®æƒ…å ±ï¼‰
haconiwa monitor -c my-company --columns pane agent status --japanese
```

**ğŸ–¥ï¸ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºå†…å®¹:**
```
ğŸ’¼  ä¼šç¤¾å: test-company-multiroom-tasks

        ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒšã‚¤ãƒ³: 22/32
        å¹³å‡ç¨¼åƒç‡: 0.8%
        åˆè¨ˆãƒ¡ãƒ¢ãƒª: 551.3MB
        æœ€çµ‚æ›´æ–°: 11:15:42

ğŸ¢  éƒ¨å±‹: Frontend
â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ãƒšã‚¤ãƒ³ â”ƒ ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒ          â”ƒ ãƒ—ãƒ­ãƒã‚¤ãƒ€AI   â”ƒ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå      â”ƒ ç¨¼åƒç‡                                                               â”ƒ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹  â”ƒ
â”¡â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ 0      â”‚ Greeting        â”‚ âœ“ Claude       â”‚ lead-pm-01          â”‚   0.1% â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                 â”‚  ä»•äº‹å¾…ã¡   â”‚
â”‚ 1      â”‚ Greeting Start  â”‚ âœ“ Claude       â”‚ motoki              â”‚   0.2% â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                 â”‚  ä»•äº‹å¾…ã¡   â”‚
â”‚ 2      â”‚ Greeting        â”‚ âœ“ Claude       â”‚ ai-dev-7523         â”‚   0.1% â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                 â”‚  ä»•äº‹å¾…ã¡   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ¢  éƒ¨å±‹: Backend  
â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ãƒšã‚¤ãƒ³ â”ƒ ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒ          â”ƒ ãƒ—ãƒ­ãƒã‚¤ãƒ€AI   â”ƒ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå      â”ƒ ç¨¼åƒç‡                                                               â”ƒ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹  â”ƒ
â”¡â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ 0      â”‚ Backend Task    â”‚ âœ— Claudeç„¡ã—   â”‚ lead-pm-01          â”‚ N/A                                                                  â”‚ ãƒ—ãƒ­ã‚»ã‚¹ç„¡ã— â”‚
â”‚ 1      â”‚ API Development â”‚ âœ“ Claude       â”‚ motoki              â”‚   2.3% â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                 â”‚  ä½œæ¥­ä¸­     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**âœ… å®Ÿè£…ãƒ»ãƒ†ã‚¹ãƒˆæ¸ˆã¿æ©Ÿèƒ½:**
- ğŸ” **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–**: 2ç§’é–“éš”ã§ã®ãƒ©ã‚¤ãƒ–æ›´æ–°
- ğŸ¢ **è¤‡æ•°windowå¯¾å¿œ**: Frontend/Backendç­‰ã®éƒ¨å±‹åˆ¥è¡¨ç¤º
- ğŸ‘¥ **ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆIDè¡¨ç¤º**: å€‹äººåã‚„ã‚«ã‚¹ã‚¿ãƒ IDã®å®Œå…¨ã‚µãƒãƒ¼ãƒˆ
- ğŸ¨ **è¦–è¦šçš„CPUç¨¼åƒç‡ãƒãƒ¼**: ã‚«ãƒ©ãƒ•ãƒ«ãªãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼è¡¨ç¤º
- ğŸ‡¯ğŸ‡µ **å®Œå…¨æ—¥æœ¬èªUI**: åˆ—åãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ—¥æœ¬èªåŒ–
- ğŸ“Š **æŸ”è»Ÿãªåˆ—é¸æŠ**: å¿…è¦ãªæƒ…å ±ã®ã¿è¡¨ç¤ºå¯èƒ½
- ğŸ¯ **windowæŒ‡å®šç›£è¦–**: ç‰¹å®šã®éƒ¨å±‹ã®ã¿ã«çµã‚Šè¾¼ã¿å¯èƒ½
- ğŸš€ **é«˜æ€§èƒ½ç›£è¦–**: psutil + Rich ã«ã‚ˆã‚‹é«˜é€Ÿãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
- ğŸ“ˆ **æ™ºèƒ½ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¤å®š**: CPUä½¿ç”¨ç‡ã«åŸºã¥ãè‡ªå‹•ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¤å®š
- ğŸ’¼ **ä¼šç¤¾æ¦‚è¦ã‚µãƒãƒªãƒ¼**: ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒšã‚¤ãƒ³æ•°ãƒ»å¹³å‡CPUãƒ»åˆè¨ˆãƒ¡ãƒ¢ãƒª
- ğŸ® **çŸ­ç¸®å½¢ã‚¨ã‚¤ãƒªã‚¢ã‚¹**: `mon` ã§ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹
- âš¡ **ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯**: å¿…è¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è‡ªå‹•ç¢ºèª

**ğŸ“Š åˆ©ç”¨å¯èƒ½ãªè¡¨ç¤ºåˆ—:**
- `room` - éƒ¨å±‹/Windowåï¼ˆFrontend/Backendç­‰ï¼‰
- `window` - Windowç•ªå·
- `pane` - ãƒšã‚¤ãƒ³ç•ªå·
- `title` - ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã‚¿ã‚¤ãƒˆãƒ«
- `parent` - è¦ªãƒ—ãƒ­ã‚»ã‚¹ID
- `claude` - ãƒ—ãƒ­ãƒã‚¤ãƒ€AIçŠ¶æ…‹ï¼ˆâœ“/âœ—ï¼‰
- `agent` - ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆID
- `cpu` - CPUä½¿ç”¨ç‡ï¼ˆè¦–è¦šçš„ãƒãƒ¼ä»˜ãï¼‰
- `memory` - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡
- `uptime` - ãƒ—ãƒ­ã‚»ã‚¹ç¨¼åƒæ™‚é–“
- `status` - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆä»•äº‹å¾…ã¡/ä½œæ¥­ä¸­/å¤šå¿™ï¼‰

**ğŸ¯ çŠ¶æ…‹åˆ¤å®šãƒ«ãƒ¼ãƒ«:**
- **ä»•äº‹å¾…ã¡** (â‰¤2.0% CPU): å¾…æ©ŸçŠ¶æ…‹ã€æ–°ã—ã„ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå—ä»˜å¯èƒ½
- **ä½œæ¥­ä¸­** (2.0-20% CPU): ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ä½œæ¥­ä¸­
- **å¤šå¿™** (>20% CPU): é«˜è² è·ä½œæ¥­ä¸­ã€å‰²ã‚Šè¾¼ã¿æ³¨æ„

**ğŸ’¡ ä½¿ç”¨ä¾‹ãƒ»Tips:**
```bash
# é–‹ç™ºä½œæ¥­ä¸­ã®æ¨å¥¨ç›£è¦–è¨­å®š
haconiwa monitor -c my-company --columns room pane agent cpu status --japanese -r 1

# è©³ç´°ãƒ‡ãƒãƒƒã‚°æ™‚
haconiwa monitor -c my-company --columns room pane title claude agent cpu memory status --japanese

# è»½é‡ç›£è¦–ï¼ˆãƒªã‚½ãƒ¼ã‚¹ç¯€ç´„ï¼‰
haconiwa monitor -c my-company --columns pane agent status --japanese -r 10

# Frontendéƒ¨å±‹ã®é›†ä¸­ç›£è¦–
haconiwa monitor -c my-company -w 0 --japanese
```

**ğŸ”§ å¿…è¦ãªä¾å­˜é–¢ä¿‚:**
- `rich` - ãƒªãƒƒãƒãªã‚¿ãƒ¼ãƒŸãƒŠãƒ«UIè¡¨ç¤º
- `psutil` - ãƒ—ãƒ­ã‚»ã‚¹æƒ…å ±å–å¾—
- `tmux` - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†

monitoræ©Ÿèƒ½ã¯**å®Ÿéš›ã«ãƒ†ã‚¹ãƒˆæ¸ˆã¿**ã§ã€32ãƒšã‚¤ãƒ³ã®å¤§è¦æ¨¡ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç’°å¢ƒã§ã‚‚å®‰å®šå‹•ä½œã‚’ç¢ºèªã—ã¦ã„ã¾ã™ã€‚

### ğŸ” scanã‚³ãƒãƒ³ãƒ‰ - AIãƒ¢ãƒ‡ãƒ«æ¤œç´¢ãƒ»åˆ†ææ©Ÿèƒ½ âœ… **å®Ÿè£…æ¸ˆã¿**

é«˜åº¦ãªAIãƒ¢ãƒ‡ãƒ«æ¤œç´¢ãƒ»åˆ†ææ©Ÿèƒ½ã‚’**ä»Šã™ã**åˆ©ç”¨ã§ãã¾ã™ï¼š

```bash
# 1. ãƒ¢ãƒ‡ãƒ«åã§æ¤œç´¢ï¼ˆãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹è‡ªå‹•å‰Šé™¤ï¼‰
haconiwa scan model gpt-4
haconiwa scan model claude-3-opus --no-strip-prefix

# 2. ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’æ¤œç´¢
haconiwa scan content "import torch" --type .py
haconiwa scan content "model\.forward\(" --context 5

# 3. AIãƒ¢ãƒ‡ãƒ«ä¸€è¦§è¡¨ç¤º
haconiwa scan list
haconiwa scan list --provider openai
haconiwa scan list --category llm --format json

# 4. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ åˆ†æ
haconiwa scan analyze
haconiwa scan analyze --path ./models
haconiwa scan analyze --show-structure

# 5. ãƒ¢ãƒ‡ãƒ«æ¯”è¼ƒåˆ†æ
haconiwa scan compare gpt-4 claude-3-opus
haconiwa scan compare gpt-3.5-turbo gpt-4 --output comparison.json

# 6. é–‹ç™ºã‚¬ã‚¤ãƒ‰ç”Ÿæˆ
haconiwa scan guide gpt-4 --type development
haconiwa scan guide claude-3 --type quickstart --output guide.md
```

**ğŸ¯ scanã‚³ãƒãƒ³ãƒ‰ã®ä¸»ãªæ©Ÿèƒ½:**
- **ãƒ¢ãƒ‡ãƒ«åæ¤œç´¢**: ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ï¼ˆgpt-, claude-ç­‰ï¼‰ã®è‡ªå‹•å‰Šé™¤å¯¾å¿œ
- **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ¤œç´¢**: æ­£è¦è¡¨ç¾å¯¾å¿œã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¡Œè¡¨ç¤º
- **ã‚«ãƒ†ã‚´ãƒªåˆ†é¡**: LLMã€Visionã€Audioã€Multimodalç­‰ã®è‡ªå‹•åˆ†é¡
- **ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è­˜åˆ¥**: OpenAIã€Anthropicã€Metaç­‰ã®è‡ªå‹•è­˜åˆ¥
- **æ¯”è¼ƒåˆ†æ**: è¤‡æ•°ãƒ¢ãƒ‡ãƒ«ã®æ©Ÿèƒ½ãƒ»ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ¯”è¼ƒ
- **ã‚¬ã‚¤ãƒ‰ç”Ÿæˆ**: é–‹ç™ºã€ä½¿ç”¨æ–¹æ³•ã€çµ±åˆã€ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰ã®è‡ªå‹•ç”Ÿæˆ
- **å¤šæ§˜ãªå‡ºåŠ›å½¢å¼**: textã€jsonã€yamlã€tableã€treeå½¢å¼å¯¾å¿œ

**ğŸ’¡ ä½¿ç”¨ä¾‹:**
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®GPT-4é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢
haconiwa scan model gpt-4 --format tree

# Pythonãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ãƒ¢ãƒ‡ãƒ«åˆæœŸåŒ–ã‚³ãƒ¼ãƒ‰ã‚’æ¤œç´¢
haconiwa scan content "model = .*\(" --type .py --context 3

# OpenAIã¨Anthropicã®ãƒ¢ãƒ‡ãƒ«ã‚’æ¯”è¼ƒ
haconiwa scan compare gpt-4 claude-3-opus --output compare.yaml

# é–‹ç™ºã‚¬ã‚¤ãƒ‰ã‚’ç”Ÿæˆ
haconiwa scan guide gpt-4 --type development --output gpt4-dev-guide.md
```

scanæ©Ÿèƒ½ã¯ã€AIãƒ¢ãƒ‡ãƒ«é–‹ç™ºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®ãƒ¢ãƒ‡ãƒ«ç®¡ç†ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã€ç§»è¡Œè¨ˆç”»ã®ç­–å®šã«ç‰¹ã«æœ‰ç”¨ã§ã™ã€‚

### ğŸ“„ scanã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›çµæœä¾‹

#### 1. `haconiwa scan list` - ãƒ¢ãƒ‡ãƒ«ä¸€è¦§è¡¨ç¤º
```
          Available AI Models          
â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”“
â”ƒ Provider â”ƒ Model         â”ƒ Category â”ƒ Files â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”©
â”‚ openai   â”‚ gpt-4         â”‚ llm      â”‚ 24    â”‚
â”‚ openai   â”‚ gpt-3.5-turbo â”‚ llm      â”‚ 18    â”‚
â”‚ anthropicâ”‚ claude-3-opus â”‚ llm      â”‚ 32    â”‚
â”‚ meta     â”‚ llama-2-70b   â”‚ llm      â”‚ 45    â”‚
â”‚ google   â”‚ gemini-pro    â”‚ multimodalâ”‚ 28   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. `haconiwa scan content "model.forward"` - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ¤œç´¢
```
pattern: model.forward
matches:
  file: models/gpt4/inference.py
  line_number: 156
  line: output = model.forward(input_ids, attention_mask=mask)
  context:
    - # Prepare input tensors
    - input_ids = tokenizer.encode(text)
    - mask = create_attention_mask(input_ids)
    - output = model.forward(input_ids, attention_mask=mask)
    - logits = output.logits
    
  file: models/claude/model.py
  line_number: 89
  line: result = self.model.forward(tokens)
  context:
    - def generate(self, prompt):
    -     tokens = self.tokenize(prompt)
    -     result = self.model.forward(tokens)
    -     return self.decode(result)
```

#### 3. `haconiwa scan analyze` - ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ åˆ†æ
```
ğŸ“Š AI Model Directory Analysis
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Total models found: 12
Total files: 342
Total size: 2.4 GB

ğŸ“ Directory Structure:
models/
â”œâ”€â”€ openai/          (5 models, 89 files)
â”‚   â”œâ”€â”€ gpt-4/
â”‚   â”œâ”€â”€ gpt-3.5-turbo/
â”‚   â””â”€â”€ embeddings/
â”œâ”€â”€ anthropic/       (3 models, 76 files)
â”‚   â”œâ”€â”€ claude-3-opus/
â”‚   â””â”€â”€ claude-3-sonnet/
â””â”€â”€ opensource/      (4 models, 177 files)
    â”œâ”€â”€ llama-2/
    â””â”€â”€ mistral/

ğŸ“Š Category Distribution:
- LLM: 8 models (66.7%)
- Vision: 2 models (16.7%)
- Multimodal: 2 models (16.7%)

ğŸ” Insights:
- Most models include example scripts
- Configuration files follow similar patterns
- Test coverage: 78% of models have tests
```

#### 4. `haconiwa scan guide gpt-4 --type development` - é–‹ç™ºã‚¬ã‚¤ãƒ‰ç”Ÿæˆ

é–‹ç™ºã‚¬ã‚¤ãƒ‰æ©Ÿèƒ½ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ç™ºè¦‹ã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«æƒ…å ±ã‚’åŸºã«ã€4ç¨®é¡ã®åŒ…æ‹¬çš„ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ï¼š

**ç”Ÿæˆã•ã‚Œã‚‹ã‚¬ã‚¤ãƒ‰ã®ç¨®é¡ï¼š**
- **development** (é–‹ç™ºã‚¬ã‚¤ãƒ‰): ãƒ¢ãƒ‡ãƒ«è¨­å®šã€ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã€ä¾å­˜é–¢ä¿‚ã€é–‹å§‹æ–¹æ³•ã€ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- **usage** (ä½¿ç”¨ã‚¬ã‚¤ãƒ‰): åŸºæœ¬çš„ãªä½¿ã„æ–¹ã€ä¸€èˆ¬çš„ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã€ã‚³ãƒ¼ãƒ‰ä¾‹ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®ãƒ’ãƒ³ãƒˆ
- **integration** (çµ±åˆã‚¬ã‚¤ãƒ‰): ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€APIçµ±åˆã€ç›£è¦–è¨­å®š
- **quickstart** (ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ): 5åˆ†ã§å§‹ã‚ã‚‰ã‚Œã‚‹æœ€å°é™ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨å®Ÿè¡Œä¾‹

**å‡ºåŠ›ä¾‹ï¼ˆé–‹ç™ºã‚¬ã‚¤ãƒ‰ï¼‰ï¼š**
```markdown
# Development Guide: gpt-4

Generated on: 2024-01-15 14:30:45

## Overview

This guide provides development information for working with gpt-4.

## Model Configuration

```json
{
  "model_type": "transformer",
  "hidden_size": 1024,
  "num_layers": 24,
  "num_attention_heads": 16,
  "vocab_size": 50257,
  "max_position_embeddings": 2048
}
```

## Categories

This model is categorized as: llm

## File Structure

Total files: 24

### Key Files:
- `config.json` (json)
- `model.py` (python)
- `tokenizer.py` (python)
- `inference.py` (python)
- `requirements.txt` (text)
- `examples/chat_completion.py` (python)
- `tests/test_model.py` (python)

## Requirements

### Dependencies:

From `requirements.txt`:
```
torch>=2.0.0
transformers>=4.30.0
numpy>=1.24.0
tokenizers>=0.13.0
```

## Getting Started

### 1. Setup Environment
```bash
# Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt
```

### 2. Load Model
```python
# Example code to load gpt-4
import json

# Load configuration
with open('config.json', 'r') as f:
    config = json.load(f)

# Initialize model (framework-specific)
# Add your model initialization code here
```

## Best Practices

1. **Version Control**: Track model versions and configurations
2. **Testing**: Implement comprehensive tests for model inference
3. **Documentation**: Keep documentation up-to-date with model changes
4. **Performance**: Monitor and optimize inference performance
5. **Security**: Validate inputs and handle errors gracefully
```

#### 5. `haconiwa scan compare gpt-4 claude-3-opus` - ãƒ¢ãƒ‡ãƒ«æ¯”è¼ƒ
```
ğŸ” Model Comparison Analysis
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š Basic Comparison:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ Feature       â”ƒ gpt-4         â”ƒ claude-3-opus  â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ Provider      â”‚ OpenAI        â”‚ Anthropic      â”‚
â”‚ Category      â”‚ LLM           â”‚ LLM            â”‚
â”‚ Files         â”‚ 24            â”‚ 32             â”‚
â”‚ Config Found  â”‚ âœ“             â”‚ âœ“              â”‚
â”‚ Examples      â”‚ 6             â”‚ 8              â”‚
â”‚ Tests         â”‚ âœ“             â”‚ âœ“              â”‚
â”‚ Documentation â”‚ README.md     â”‚ README.md      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ Unique Files:
GPT-4 only:
- api_reference.md
- deployment_guide.md

Claude-3-Opus only:
- safety_guidelines.md
- constitutional_ai.md
- context_window.md

ğŸ”§ Configuration Differences:
- Max tokens: gpt-4 (8192) vs claude-3-opus (100000)
- Training data cutoff: gpt-4 (2023-04) vs claude-3-opus (2023-08)

ğŸ’¡ Recommendations:
- Both models have comprehensive test coverage
- Claude-3-Opus has more extensive safety documentation
- GPT-4 includes more deployment examples
```

### ğŸ¯ scanã‚³ãƒãƒ³ãƒ‰ã®æ´»ç”¨ã‚·ãƒŠãƒªã‚ª

1. **æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç«‹ã¡ä¸Šã’æ™‚**
   ```bash
   # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®åˆ©ç”¨å¯èƒ½ãªãƒ¢ãƒ‡ãƒ«ã‚’ç¢ºèª
   haconiwa scan list
   
   # ç‰¹å®šãƒ¢ãƒ‡ãƒ«ã®é–‹ç™ºã‚¬ã‚¤ãƒ‰ã‚’ç”Ÿæˆ
   haconiwa scan guide gpt-4 --type quickstart --output quickstart.md
   ```

2. **æ—¢å­˜ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®èª¿æŸ»**
   ```bash
   # ãƒ¢ãƒ‡ãƒ«åˆæœŸåŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œç´¢
   haconiwa scan content "load_model|from_pretrained" --type .py
   
   # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã‚’åˆ†æ
   haconiwa scan analyze --show-structure
   ```

3. **ãƒ¢ãƒ‡ãƒ«ç§»è¡Œè¨ˆç”»**
   ```bash
   # 2ã¤ã®ãƒ¢ãƒ‡ãƒ«ã‚’è©³ç´°æ¯”è¼ƒ
   haconiwa scan compare old-model new-model --output migration-plan.yaml
   
   # æ–°ãƒ¢ãƒ‡ãƒ«ã®çµ±åˆã‚¬ã‚¤ãƒ‰ã‚’ç”Ÿæˆ
   haconiwa scan guide new-model --type integration
   ```

4. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆ**
   ```bash
   # å…¨ãƒ¢ãƒ‡ãƒ«ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä¸€æ‹¬ç”Ÿæˆ
   for model in $(haconiwa scan list --format json | jq -r '.models[].name'); do
     haconiwa scan guide "$model" --type development --output "docs/${model}-guide.md"
   done
   ```

#### 6. `haconiwa scan generate-parallel-config` - ä¸¦åˆ—é–‹ç™ºè¨­å®šYAMLç”Ÿæˆ

scanã‚³ãƒãƒ³ãƒ‰ã®æ¤œç´¢çµæœã‹ã‚‰ã€ä¸¦åˆ—é–‹ç™ºç”¨ã®è¨­å®šYAMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ï¼š

**ä½¿ç”¨ä¾‹ï¼š**
```bash
# åŸºæœ¬çš„ãªä¾‹ï¼ˆã‚µãƒ³ãƒ—ãƒ«YAMLã‚’ç”Ÿæˆï¼‰
haconiwa scan generate-parallel-config --example

# ãƒ¢ãƒ‡ãƒ«æ¤œç´¢çµæœã‹ã‚‰ç”Ÿæˆ
haconiwa scan generate-parallel-config --source model:gpt-4 --action add_tests

# ãƒ¢ãƒ‡ãƒ«ç§»è¡Œç”¨YAMLç”Ÿæˆ
haconiwa scan generate-parallel-config --migration gpt-3.5:gpt-4 --max-files 20

# ãƒ‘ã‚¿ãƒ¼ãƒ³ä¿®æ­£ç”¨YAMLç”Ÿæˆ
haconiwa scan generate-parallel-config --pattern-fix "old_api:new_api ã«ç½®æ›" 

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®å¤‰æ›´
haconiwa scan generate-parallel-config --project-wide "*.py" --action add_type_hints

# ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨
haconiwa scan generate-parallel-config --prompt-file prompts.txt
```

**ç”Ÿæˆã•ã‚Œã‚‹YAMLã®ä¾‹ï¼š**
```yaml
provider: claude
metadata:
  generated_at: '2024-01-15T14:30:00'
  source: haconiwa scan generate-parallel-config
  action: add_tests
tasks:
  - file: src/models/user.py
    prompt: Add validation methods and type hints
  - file: src/models/product.py
    prompt: Implement inventory tracking
  - file: src/models/order.py
    prompt: Add status management
options:
  max_concurrent: 3
  timeout: 90
  allowed_tools: [Read, Write, Edit, MultiEdit]
  permission_mode: confirmEach
  output_dir: ./parallel-dev-results
```

**ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—ï¼š**
- `refactor` - ã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- `add_type_hints` - å‹ãƒ’ãƒ³ãƒˆã®è¿½åŠ 
- `add_validation` - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…
- `add_tests` - ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆ
- `add_docs` - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è¿½åŠ 
- `optimize` - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- `security` - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ”¹å–„
- `async_conversion` - éåŒæœŸåŒ–
- `error_handling` - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¿½åŠ 
- `api_implementation` - APIå®Ÿè£…

**çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼š**
```bash
# 1. ãƒ¢ãƒ‡ãƒ«ã‚’æ¤œç´¢
haconiwa scan model gpt-4

# 2. æ¤œç´¢çµæœã‹ã‚‰ä¸¦åˆ—é–‹ç™ºè¨­å®šYAMLã‚’ç”Ÿæˆ
haconiwa scan generate-parallel-config --source model:gpt-4 --action add_tests

# 3. ç”Ÿæˆã•ã‚ŒãŸparallel-dev.yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
cat parallel-dev.yaml
```

## ğŸ“š buildã‚³ãƒãƒ³ãƒ‰è©³ç´°ã‚¬ã‚¤ãƒ‰

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

#### 1. æ–°è¦ä¼šç¤¾ä½œæˆï¼ˆæœ€å°æ§‹æˆï¼‰
```bash
# ã‚·ãƒ³ãƒ—ãƒ«ãªä¼šç¤¾ä½œæˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šï¼‰
haconiwa company build --name my-company

# ã‚«ã‚¹ã‚¿ãƒ ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹æŒ‡å®š
haconiwa company build --name my-company --base-path ./workspace
```

#### 2. å®Œå…¨ã‚«ã‚¹ã‚¿ãƒ ä¼šç¤¾ä½œæˆ
```bash
haconiwa company build --name my-company \
  --base-path ./workspace \
  --org01-name "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰éƒ¨" --task01 "UI/UXé–‹ç™º" \
  --org02-name "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰éƒ¨" --task02 "APIè¨­è¨ˆ" \
  --org03-name "ã‚¤ãƒ³ãƒ•ãƒ©éƒ¨" --task03 "DevOps" \
  --org04-name "QAéƒ¨" --task04 "å“è³ªä¿è¨¼" \
  --no-attach  # ä½œæˆå¾Œã«è‡ªå‹•æ¥ç¶šã—ãªã„
```

#### 3. æ—¢å­˜ä¼šç¤¾ã®æ›´æ–°
```bash
# çµ„ç¹”åã®ã¿å¤‰æ›´ï¼ˆè‡ªå‹•æ¤œå‡ºã§æ›´æ–°ãƒ¢ãƒ¼ãƒ‰ï¼‰
haconiwa company build --name my-company \
  --org01-name "æ–°ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰éƒ¨"

# è¤‡æ•°ã®è¨­å®šã‚’åŒæ™‚æ›´æ–°
haconiwa company build --name my-company \
  --org01-name "Reacté–‹ç™ºãƒãƒ¼ãƒ " --task01 "SPAã‚¢ãƒ—ãƒªé–‹ç™º" \
  --org02-name "Node.jsé–‹ç™ºãƒãƒ¼ãƒ " --task02 "RESTful API"
```

#### 4. å¼·åˆ¶å†æ§‹ç¯‰
```bash
# æ—¢å­˜ä¼šç¤¾ã‚’å®Œå…¨ã«å†ä½œæˆ
haconiwa company build --name my-company \
  --base-path ./workspace \
  --org01-name "ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«é–‹ç™ºéƒ¨" \
  --rebuild
```

### é«˜åº¦ãªä½¿ã„æ–¹

#### ãƒ‡ã‚¹ã‚¯ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
```bash
# å„çµ„ç¹”ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ï¼ˆãƒ‡ã‚¹ã‚¯ï¼‰ã‚’æŒ‡å®š
haconiwa company build --name my-company \
  --desk01 "react-frontend-desk" \
  --desk02 "nodejs-backend-desk" \
  --desk03 "docker-infra-desk" \
  --desk04 "testing-qa-desk"
```

#### ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã‚ªãƒ—ã‚·ãƒ§ãƒ³
```bash
# ä¼šç¤¾çµ‚äº†ï¼ˆtmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ã¿å‰Šé™¤ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä¿æŒï¼‰
haconiwa company kill my-company --force

# å®Œå…¨å‰Šé™¤ï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚‚å‰Šé™¤ï¼‰
haconiwa company kill my-company \
  --clean-dirs \
  --base-path ./workspace \
  --force
```

### å‹•ä½œãƒ¢ãƒ¼ãƒ‰è‡ªå‹•åˆ¤å®š

buildã‚³ãƒãƒ³ãƒ‰ã¯ä¼šç¤¾ã®å­˜åœ¨çŠ¶æ³ã‚’è‡ªå‹•åˆ¤å®šã—ã€é©åˆ‡ãªå‹•ä½œã‚’é¸æŠã—ã¾ã™ï¼š

| çŠ¶æ³ | å‹•ä½œ | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¾‹ |
|------|------|-------------|
| ä¼šç¤¾ãŒå­˜åœ¨ã—ãªã„ | **æ–°è¦ä½œæˆ** | ğŸ—ï¸ Building new company: 'my-company' |
| ä¼šç¤¾ãŒå­˜åœ¨ã™ã‚‹ + è¨­å®šå¤‰æ›´ã‚ã‚Š | **æ›´æ–°** | ğŸ”„ Updating existing company: 'my-company' |
| ä¼šç¤¾ãŒå­˜åœ¨ã™ã‚‹ + è¨­å®šå¤‰æ›´ãªã— | **æƒ…å ±è¡¨ç¤º** | â„¹ï¸ No changes specified for company 'my-company' |
| --rebuildã‚ªãƒ—ã‚·ãƒ§ãƒ³æŒ‡å®š | **å¼·åˆ¶å†æ§‹ç¯‰** | ğŸ”„ Rebuilding company: 'my-company' |

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

**å•é¡Œ**: ä¼šç¤¾ãŒå¿œç­”ã—ãªã„å ´åˆ
```bash
# 1. ä¼šç¤¾ã®çŠ¶æ…‹ç¢ºèª
haconiwa company list

# 2. å¼·åˆ¶çµ‚äº†
haconiwa company kill my-company --force

# 3. å†ä½œæˆ
haconiwa company build --name my-company --rebuild
```

**å•é¡Œ**: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ¨©é™ã‚¨ãƒ©ãƒ¼
```bash
# ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ã®æ¨©é™ç¢ºèªã¨ä¿®æ­£
chmod 755 ./workspace
haconiwa company build --name my-company --base-path ./workspace
```

**å•é¡Œ**: tmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒæ®‹ã£ã¦ã„ã‚‹
```bash
# æ‰‹å‹•ã§tmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ç¢ºèª
tmux list-sessions

# æ‰‹å‹•å‰Šé™¤
tmux kill-session -t my-company
```

## âœ¨ ä¸»ãªæ©Ÿèƒ½ (é–‹ç™ºä¸­)

- ğŸ¤– **AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç®¡ç†**: Boss/Workerã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ä½œæˆãƒ»ç›£è¦–
- ğŸ“¦ **ãƒ¯ãƒ¼ãƒ«ãƒ‰ç®¡ç†**: é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ãƒ»ç®¡ç†
- ğŸ–¥ï¸ **tmuxä¼šç¤¾é€£æº**: é–‹ç™ºã‚¹ãƒšãƒ¼ã‚¹ã®åŠ¹ç‡çš„ãªç®¡ç†
- ğŸ“‹ **ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒç®¡ç†**: git-worktreeã¨é€£æºã—ãŸã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- ğŸ“Š **ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†**: DBã‚„ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã®åŠ¹ç‡çš„ãªã‚¹ã‚­ãƒ£ãƒ³
- ğŸ‘ï¸ **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–**: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚„ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã®é€²æ—ç›£è¦–
- ğŸ› ï¸ **é–‹ç™ºãƒ„ãƒ¼ãƒ«é€£æº**: Claude Code SDKç­‰ã‚’ä½¿ç”¨ã—ãŸä¸¦åˆ—é–‹ç™ºæ”¯æ´ï¼ˆé–‹ç™ºä¸­ï¼‰

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚å¿µ

### CRDãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

Haconiwaã¯4ã¤ã®ä¸»è¦ãªCRDï¼ˆCustom Resource Definitionï¼‰ã‚’ä¸­å¿ƒã«æ§‹ç¯‰ã•ã‚Œã¦ã„ã¾ã™ï¼š

```
Haconiwa CRDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
â”œâ”€â”€ Organization CRDï¼ˆçµ„ç¹”å®šç¾©ï¼‰
â”‚   â”œâ”€â”€ éƒ¨é–€æ§‹é€ ï¼ˆdepartmentsï¼‰
â”‚   â”œâ”€â”€ å½¹å‰²å®šç¾©ï¼ˆrolesï¼‰
â”‚   â””â”€â”€ è²¬ä»»ç¯„å›²ï¼ˆresponsibilitiesï¼‰
â”œâ”€â”€ Space CRDï¼ˆç©ºé–“å®šç¾©ï¼‰
â”‚   â”œâ”€â”€ éšå±¤æ§‹é€ ï¼ˆnations > cities > villages > companies > buildings > floors > roomsï¼‰
â”‚   â”œâ”€â”€ Gitãƒªãƒã‚¸ãƒˆãƒªè¨­å®šï¼ˆgitRepoï¼‰
â”‚   â””â”€â”€ tmuxã‚»ãƒƒã‚·ãƒ§ãƒ³/ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒãƒƒãƒ”ãƒ³ã‚°
â”œâ”€â”€ Task CRDï¼ˆã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå®šç¾©ï¼‰
â”‚   â”œâ”€â”€ ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒè©³ç´°ï¼ˆtitle, descriptionï¼‰
â”‚   â”œâ”€â”€ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‰²ã‚Šå½“ã¦ï¼ˆassigneeï¼‰
â”‚   â””â”€â”€ Git worktreeè¨­å®šï¼ˆbranch, worktreeï¼‰
â””â”€â”€ Law CRDï¼ˆæ³•çš„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼‰- é–‹ç™ºäºˆå®š
    â”œâ”€â”€ ã‚°ãƒ­ãƒ¼ãƒãƒ«è¦å‰‡ï¼ˆglobalRulesï¼‰
    â”œâ”€â”€ éšå±¤åˆ¥è¦å‰‡ï¼ˆhierarchicalRulesï¼‰
    â””â”€â”€ æ¨©é™ç®¡ç†ï¼ˆpermissionsï¼‰
```

### CRDé–“ã®é–¢ä¿‚ã¨å‡¦ç†ãƒ•ãƒ­ãƒ¼

```
1. Organization CRD
   â†“ å®šç¾©
   ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ§‹é€ ï¼ˆéƒ¨é–€ãƒ»å½¹å‰²ï¼‰
   â†“
2. Space CRD
   â†“ å‚ç…§ï¼ˆorganizationRefï¼‰
   ç‰©ç†çš„ãªé…ç½®ï¼ˆtmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ï¼‰
   â†“
3. Task CRD
   â†“ å‚ç…§ï¼ˆspaceRef, assigneeï¼‰
   ä½œæ¥­å‰²ã‚Šå½“ã¦ã¨Git worktreeä½œæˆ
   â†“
4. Law CRDï¼ˆé–‹ç™ºäºˆå®šï¼‰
   â†“ çµ±åˆ
   å…¨CRDã«å¯¾ã™ã‚‹è¦å‰‡ãƒ»æ¨©é™é©ç”¨
```

### tmux â†” Haconiwa CRD ãƒãƒƒãƒ”ãƒ³ã‚°

| Haconiwa CRD | tmuxæ¦‚å¿µ | ä¸»ãªå½¹å‰² |
|-------------|----------|----------|
| **Organization** | - | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®çµ„ç¹”æ§‹é€ å®šç¾© |
| **Space (Company)** | **Session** | é–‹ç™ºç’°å¢ƒã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã‚³ãƒ³ãƒ†ãƒŠ |
| **Space (Room)** | **Window** | æ©Ÿèƒ½åˆ¥ã®ä½œæ¥­ã‚°ãƒ«ãƒ¼ãƒ— |
| **Task + Agent** | **Pane** | å€‹åˆ¥ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä½œæ¥­ç’°å¢ƒ |

### ä¸»è¦ãªç‰¹å¾´

**1. å®£è¨€çš„ãªç’°å¢ƒç®¡ç†**
- YAMLãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã¹ã¦ã®æ§‹æˆã‚’å®šç¾©
- å†ç¾å¯èƒ½ãªé–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰

**2. Git worktreeã«ã‚ˆã‚‹ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒéš”é›¢**
- å„ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒãŒç‹¬ç«‹ã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ä½œæ¥­
- `defaultBranch`ã‹ã‚‰ã®è‡ªå‹•ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
- ä¸¦è¡Œé–‹ç™ºã®å®Ÿç¾

**3. éšå±¤çš„ãªæ§‹é€ **
- Space CRDã®éšå±¤ï¼ˆå›½â†’å¸‚â†’æ‘â†’ä¼šç¤¾â†’å»ºç‰©â†’éšâ†’éƒ¨å±‹ï¼‰
- å°†æ¥çš„ã«Law CRDã«ã‚ˆã‚‹éšå±¤çš„ãªè¦å‰‡ç¶™æ‰¿

**4. è‡ªå‹•åŒ–ã•ã‚ŒãŸã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé…ç½®**
- Organization CRDã§å®šç¾©ã•ã‚ŒãŸã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è‡ªå‹•é…ç½®
- Task CRDã«ã‚ˆã‚‹ä½œæ¥­å‰²ã‚Šå½“ã¦
- tmuxãƒšã‚¤ãƒ³ã¸ã®è‡ªå‹•ãƒãƒƒãƒ”ãƒ³ã‚°

## ğŸš€ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
pip install haconiwa
```

> ğŸ“ **é–‹ç™ºãƒãƒ¼ãƒˆ**: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯PyPIã§åˆ©ç”¨å¯èƒ½ã§ã™ãŒã€å¤šãã®æ©Ÿèƒ½ã¯ã¾ã é–‹ç™ºä¸­ã§ã™ã€‚

## âš¡ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

> ğŸ­ **é‡è¦**: ä»¥ä¸‹ã«ç¤ºã™ã‚³ãƒãƒ³ãƒ‰ã¯**ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã§ã™**ã€‚ç¾åœ¨ã€ã“ã‚Œã‚‰ã®ã‚³ãƒãƒ³ãƒ‰ã¯ãƒ˜ãƒ«ãƒ—æƒ…å ±ã¨åŸºæœ¬æ§‹é€ ã‚’è¡¨ç¤ºã™ã‚‹ã‚‚ã®ã§ã™ãŒã€å®Ÿéš›ã®æ©Ÿèƒ½ã¯é–‹ç™ºä¸­ã§ã™ã€‚å®Œå…¨ãªæ©Ÿèƒ½ã®å®Ÿè£…ã«å‘ã‘ã¦ç©æ¥µçš„ã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã€‚

### 1. åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ã‚’ç¢ºèª
```bash
haconiwa --help
```

### 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
```bash
haconiwa core init
```

### 3. é–‹ç™ºãƒ¯ãƒ¼ãƒ«ãƒ‰ä½œæˆ
```bash
haconiwa world create local-dev
```

### 4. AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèµ·å‹•
```bash
# ãƒœã‚¹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä½œæˆ
haconiwa agent spawn boss

# ãƒ¯ãƒ¼ã‚«ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä½œæˆ
haconiwa agent spawn worker-a
```

### 5. ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒç®¡ç†
```bash
# æ–°ã—ã„ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
haconiwa task new feature-login

# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå‰²ã‚Šå½“ã¦
haconiwa task assign feature-login worker-a

# é€²æ—ç›£è¦–
haconiwa watch tail worker-a
```

## ğŸ“– ã‚³ãƒãƒ³ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

> ğŸ”§ **é–‹ç™ºãƒãƒ¼ãƒˆ**: ä»¥ä¸‹ã«ãƒªã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ç¾åœ¨**ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ†ã‚¹ãƒˆç”¨é€”**ã®ã‚‚ã®ã§ã™ã€‚CLIæ§‹é€ ã¯æ©Ÿèƒ½ã—ã¦ã„ã¾ã™ãŒã€ã»ã¨ã‚“ã©ã®ã‚³ãƒãƒ³ãƒ‰ã¯ãƒ˜ãƒ«ãƒ—æƒ…å ±ã‚„ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚å„ã‚³ãƒãƒ³ãƒ‰ã‚°ãƒ«ãƒ¼ãƒ—ã®åŸºç›¤æ©Ÿèƒ½ã‚’ç©æ¥µçš„ã«é–‹ç™ºä¸­ã§ã™ã€‚

CLIãƒ„ãƒ¼ãƒ«ã¯7ã¤ã®ä¸»è¦ã‚³ãƒãƒ³ãƒ‰ã‚°ãƒ«ãƒ¼ãƒ—ã‚’æä¾›ã—ã¾ã™ï¼š

### `agent` - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç®¡ç†ã‚³ãƒãƒ³ãƒ‰
å”èª¿é–‹ç™ºã®ãŸã‚ã®AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆBoss/Workerï¼‰ã‚’ç®¡ç†
- `haconiwa agent spawn <type>` - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä½œæˆ
- `haconiwa agent ps` - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä¸€è¦§è¡¨ç¤º
- `haconiwa agent kill <name>` - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåœæ­¢

### `core` - ã‚³ã‚¢ç®¡ç†ã‚³ãƒãƒ³ãƒ‰
ã‚·ã‚¹ãƒ†ãƒ ã®ã‚³ã‚¢ç®¡ç†ã¨è¨­å®š
- `haconiwa core init` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–
- `haconiwa core status` - ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª
- `haconiwa core upgrade` - ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰

### `resource` - ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªã‚½ãƒ¼ã‚¹ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€ãƒ•ã‚¡ã‚¤ãƒ«ãªã©ï¼‰ã®ã‚¹ã‚­ãƒ£ãƒ³ã¨ç®¡ç†
- `haconiwa resource scan` - ãƒªã‚½ãƒ¼ã‚¹ã‚¹ã‚­ãƒ£ãƒ³
- `haconiwa resource list` - ãƒªã‚½ãƒ¼ã‚¹ä¸€è¦§è¡¨ç¤º

### `tool` - é–‹ç™ºãƒ„ãƒ¼ãƒ«ç®¡ç†
å¤–éƒ¨ãƒ„ãƒ¼ãƒ«ã‚„SDKã¨ã®çµ±åˆæ©Ÿèƒ½
- `haconiwa tool list` - åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«ä¸€è¦§
- `haconiwa tool install <tool>` - ãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- `haconiwa tool configure <tool>` - ãƒ„ãƒ¼ãƒ«ã®è¨­å®š
- `haconiwa tool parallel-dev` - AIä¸¦åˆ—é–‹ç™ºæ©Ÿèƒ½ï¼ˆé–‹ç™ºä¸­ï¼‰

### `company` - tmuxä¼šç¤¾ã¨ä¼æ¥­ç®¡ç†
tmuxã‚’ä½¿ã£ãŸåŠ¹ç‡çš„ãªé–‹ç™ºä¼æ¥­ç’°å¢ƒç®¡ç†
- `haconiwa company build <name>` - tmuxä¼šç¤¾ã®ä½œæˆãƒ»æ›´æ–°ãƒ»å†æ§‹ç¯‰
- `haconiwa company list` - ä¼šç¤¾ä¸€è¦§
- `haconiwa company attach <name>` - ä¼šç¤¾æ¥ç¶š
- `haconiwa company kill <name>` - ä¼šç¤¾çµ‚äº†ãƒ»å‰Šé™¤
- `haconiwa company resize <name>` - ä¼šç¤¾ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´

### `task` - ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒç®¡ç†ã‚³ãƒãƒ³ãƒ‰
git-worktreeã¨é€£æºã—ãŸã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒç®¡ç†
- `haconiwa task new <name>` - æ–°ã—ã„ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
- `haconiwa task assign <task> <agent>` - ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå‰²ã‚Šå½“ã¦
- `haconiwa task status` - ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒçŠ¶æ…‹ç¢ºèª

### `watch` - ç›£è¦–ã‚³ãƒãƒ³ãƒ‰
ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–
- `haconiwa watch tail <target>` - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–
- `haconiwa watch logs` - ãƒ­ã‚°è¡¨ç¤º

### `world` - ãƒ¯ãƒ¼ãƒ«ãƒ‰ç®¡ç†
é–‹ç™ºç’°å¢ƒã¨ãƒ¯ãƒ¼ãƒ«ãƒ‰ã®ç®¡ç†
- `haconiwa world create <n>` - æ–°ã—ã„é–‹ç™ºãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚’ä½œæˆ
- `haconiwa world list` - ãƒ¯ãƒ¼ãƒ«ãƒ‰ä¸€è¦§è¡¨ç¤º
- `haconiwa world switch <n>` - ãƒ¯ãƒ¼ãƒ«ãƒ‰åˆ‡ã‚Šæ›¿ãˆ

### `monitor` - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ã‚³ãƒãƒ³ãƒ‰ âœ… **ãƒ†ã‚¹ãƒˆæ¸ˆã¿**
tmuxãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç’°å¢ƒã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ã¨å¯è¦–åŒ–
- `haconiwa monitor -c <company>` - åŸºæœ¬ç›£è¦–ï¼ˆå…¨windowè¡¨ç¤ºï¼‰
- `haconiwa mon -c <company>` - çŸ­ç¸®å½¢ã‚¨ã‚¤ãƒªã‚¢ã‚¹  
- `haconiwa monitor -c <company> --japanese` - æ—¥æœ¬èªUI
- `haconiwa monitor -c <company> -w <window>` - ç‰¹å®šwindowç›£è¦–
- `haconiwa monitor -c <company> --columns <cols>` - ã‚«ã‚¹ã‚¿ãƒ åˆ—è¡¨ç¤º
- `haconiwa monitor -c <company> -r <interval>` - æ›´æ–°é–“éš”èª¿æ•´
- `haconiwa monitor help` - è©³ç´°ãƒ˜ãƒ«ãƒ—è¡¨ç¤º

### `scan` - AIãƒ¢ãƒ‡ãƒ«æ¤œç´¢ãƒ»åˆ†æã‚³ãƒãƒ³ãƒ‰ âœ… **å®Ÿè£…æ¸ˆã¿**
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®AIãƒ¢ãƒ‡ãƒ«é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã®é«˜åº¦ãªæ¤œç´¢ãƒ»åˆ†ææ©Ÿèƒ½
- `haconiwa scan model <name>` - ãƒ¢ãƒ‡ãƒ«åã§æ¤œç´¢ï¼ˆãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹è‡ªå‹•å‰Šé™¤å¯¾å¿œï¼‰
- `haconiwa scan content <pattern>` - ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’æ­£è¦è¡¨ç¾ã§æ¤œç´¢
- `haconiwa scan list` - åˆ©ç”¨å¯èƒ½ãªAIãƒ¢ãƒ‡ãƒ«ä¸€è¦§è¡¨ç¤º
- `haconiwa scan analyze` - ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¨ã‚«ãƒ†ã‚´ãƒªåˆ†æ
- `haconiwa scan compare <model1> <model2>` - è¤‡æ•°ãƒ¢ãƒ‡ãƒ«ã®æ¯”è¼ƒåˆ†æ
- `haconiwa scan guide <model>` - ãƒ¢ãƒ‡ãƒ«åˆ¥é–‹ç™ºã‚¬ã‚¤ãƒ‰ç”Ÿæˆ
- `haconiwa scan generate-parallel-config` - ä¸¦åˆ—é–‹ç™ºç”¨ã®è¨­å®šYAMLç”Ÿæˆ

### `tool` - é–‹ç™ºãƒ„ãƒ¼ãƒ«é€£æºã‚³ãƒãƒ³ãƒ‰
å¤–éƒ¨ãƒ„ãƒ¼ãƒ«ã‚„SDKã¨ã®çµ±åˆæ©Ÿèƒ½
- `haconiwa tool list` - åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«ä¸€è¦§
- `haconiwa tool install <tool>` - ãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  
- `haconiwa tool configure <tool>` - ãƒ„ãƒ¼ãƒ«ã®è¨­å®š
- **`haconiwa tool parallel-dev`** - AIä¸¦åˆ—é–‹ç™ºæ©Ÿèƒ½ ğŸš§ **é–‹ç™ºä¸­**

#### `tool parallel-dev` - Claude Code SDKä¸¦åˆ—å®Ÿè¡Œæ©Ÿèƒ½
é«˜é€Ÿä¸¦åˆ—ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†ã®ãŸã‚ã®AIé–‹ç™ºæ”¯æ´æ©Ÿèƒ½
- `haconiwa tool parallel-dev claude` - Claude Code SDKã§ã®ä¸¦åˆ—ç·¨é›†å®Ÿè¡Œ
- `haconiwa tool parallel-dev status` - å®Ÿè¡Œä¸­ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã®çŠ¶æ…‹ç¢ºèª
- `haconiwa tool parallel-dev cancel <task-id>` - å®Ÿè¡Œä¸­ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«
- `haconiwa tool parallel-dev history` - å®Ÿè¡Œå±¥æ­´è¡¨ç¤º

**ä¸»ãªæ©Ÿèƒ½:**
- ğŸš€ **é«˜é€Ÿä¸¦åˆ—å‡¦ç†**: æœ€å¤§10ãƒ•ã‚¡ã‚¤ãƒ«ã®åŒæ™‚ç·¨é›†
- ğŸ“ **æŸ”è»Ÿãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŒ‡å®š**: ãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ã«å€‹åˆ¥ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
- ğŸ¯ **ã‚»ãƒãƒ•ã‚©åˆ¶å¾¡**: åŒæ™‚å®Ÿè¡Œæ•°ã®åˆ¶é™ã§APIè² è·ã‚’ç®¡ç†
- ğŸ“Š **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€²æ—è¡¨ç¤º**: å‡¦ç†çŠ¶æ³ã®å¯è¦–åŒ–
- ğŸ”§ **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: å€‹åˆ¥å¤±æ•—ã§ã‚‚ä»–ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã¯ç¶™ç¶š

**ä½¿ç”¨ä¾‹:**
```bash
# åŸºæœ¬çš„ãªä¸¦åˆ—ç·¨é›†ï¼ˆ3ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
haconiwa tool parallel-dev claude \
  -f src/main.py,src/utils.py,src/api.py \
  -p "Add type hints","Refactor functions","Add error handling"

# 10ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€æ–‰ä¿®æ­£
haconiwa tool parallel-dev claude \
  --file-list files.txt \
  --prompt-file prompts.txt \
  -m 5 \
  -t 120

# YAMLè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å®Ÿè¡Œ
haconiwa tool parallel-dev claude --from-yaml parallel-dev.yaml

# å®Ÿè¡ŒçŠ¶æ…‹ã®ç¢ºèª
haconiwa tool parallel-dev status
```

## ğŸ› ï¸ é–‹ç™ºçŠ¶æ³

> ğŸ¬ **ç¾åœ¨ã®ãƒ•ã‚§ãƒ¼ã‚º**: **ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°**  
> ã»ã¨ã‚“ã©ã®CLIã‚³ãƒãƒ³ãƒ‰ã¯ç¾åœ¨ã€æ„å›³ã•ã‚ŒãŸæ§‹é€ ã¨ãƒ˜ãƒ«ãƒ—æƒ…å ±ã‚’ç¤ºã™ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã§ã™ã€‚å„ã‚³ãƒãƒ³ãƒ‰ã®èƒŒå¾Œã«ã‚ã‚‹æ ¸ã¨ãªã‚‹æ©Ÿèƒ½ã‚’ç©æ¥µçš„ã«é–‹ç™ºä¸­ã§ã™ã€‚

### âœ… å®Œäº†æ¸ˆã¿æ©Ÿèƒ½
- 7ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã‚°ãƒ«ãƒ¼ãƒ—ã‚’æŒã¤åŸºæœ¬CLIæ§‹é€ 
- PyPIãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é…å¸ƒã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- ã‚³ã‚¢ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **tmuxä¼šç¤¾ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆcompany buildã‚³ãƒãƒ³ãƒ‰ï¼‰**
- **ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ4x4ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè‡ªå‹•æ§‹ç¯‰**
- **çµ„ç¹”ãƒ»ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒãƒ»ãƒ‡ã‚¹ã‚¯ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½**
- **ä¼šç¤¾ã®è‡ªå‹•å­˜åœ¨ãƒã‚§ãƒƒã‚¯ã¨æ›´æ–°æ©Ÿèƒ½**
- **æŸ”è»Ÿãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã‚·ã‚¹ãƒ†ãƒ **
- **ğŸ“Š ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ï¼ˆmonitor/mon ã‚³ãƒãƒ³ãƒ‰ï¼‰**
- **ğŸ¢ è¤‡æ•°windowå¯¾å¿œã®ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç›£è¦–**
- **ğŸ‘¥ ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆIDè¡¨ç¤ºæ©Ÿèƒ½**
- **ğŸ‡¯ğŸ‡µ å®Œå…¨æ—¥æœ¬èªUIå¯¾å¿œ**
- **ğŸ¨ è¦–è¦šçš„CPUç¨¼åƒç‡è¡¨ç¤º**
- **ğŸ“ˆ æ™ºèƒ½ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è‡ªå‹•åˆ¤å®šæ©Ÿèƒ½**
- **ğŸ” AIãƒ¢ãƒ‡ãƒ«æ¤œç´¢ãƒ»åˆ†æã‚·ã‚¹ãƒ†ãƒ ï¼ˆscan ã‚³ãƒãƒ³ãƒ‰ï¼‰**
- **ğŸ“ ãƒ¢ãƒ‡ãƒ«åæ¤œç´¢ã¨ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹è‡ªå‹•å‰Šé™¤æ©Ÿèƒ½**
- **ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã®æ­£è¦è¡¨ç¾æ¤œç´¢**
- **ğŸ“Š ãƒ¢ãƒ‡ãƒ«æ¯”è¼ƒåˆ†æã¨é–‹ç™ºã‚¬ã‚¤ãƒ‰ç”Ÿæˆ**
- ãƒ˜ãƒ«ãƒ—ã‚·ã‚¹ãƒ†ãƒ ã¨ã‚³ãƒãƒ³ãƒ‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- ã‚³ãƒãƒ³ãƒ‰ã‚°ãƒ«ãƒ¼ãƒ—ã®çµ„ç¹”åŒ–ã¨ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ğŸš§ é–‹ç™ºä¸­æ©Ÿèƒ½
- AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ç”Ÿæˆã¨ç®¡ç† (ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ â†’ å®Ÿè£…)
- git-worktreeã¨ã®ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒç®¡ç† (ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ â†’ å®Ÿè£…)
- ãƒªã‚½ãƒ¼ã‚¹ã‚¹ã‚­ãƒ£ãƒ³æ©Ÿèƒ½ (ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ â†’ å®Ÿè£…)
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ  (ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ â†’ å®Ÿè£…)
- ãƒ¯ãƒ¼ãƒ«ãƒ‰/ç’°å¢ƒç®¡ç† (ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ â†’ å®Ÿè£…)
- **é–‹ç™ºãƒ„ãƒ¼ãƒ«é€£æºæ©Ÿèƒ½ï¼ˆtool parallel-devï¼‰** (è¨­è¨ˆ â†’ å®Ÿè£…ä¸­)
  - Claude Code SDKçµ±åˆã«ã‚ˆã‚‹ä¸¦åˆ—ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†ï¼ˆæœ€å¤§10ãƒ•ã‚¡ã‚¤ãƒ«åŒæ™‚ï¼‰
  - asyncio.gatherã«ã‚ˆã‚‹é«˜é€ŸéåŒæœŸå‡¦ç†
  - æŸ”è»Ÿãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ã«å€‹åˆ¥æŒ‡å®šï¼‰
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨é€²æ—è¡¨ç¤º
  - å°†æ¥çš„ã«ä»–ã®AIãƒ„ãƒ¼ãƒ«ï¼ˆGitHub Copilotã€ChatGPTç­‰ï¼‰ã‚‚çµ±åˆäºˆå®š

### ğŸ“‹ è¨ˆç”»ä¸­æ©Ÿèƒ½
- é«˜åº¦ãªAIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå”èª¿
- äººæ°—ã®é–‹ç™ºãƒ„ãƒ¼ãƒ«ã¨ã®çµ±åˆ
- æ‹¡å¼µæ€§ã®ãŸã‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
- Webãƒ™ãƒ¼ã‚¹ç›£è¦–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

## ğŸ› ï¸ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
git clone https://github.com/dai-motoki/haconiwa.git
cd haconiwa
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -e .[dev]
```

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
pytest tests/
```

### ğŸ§ª ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

**ãƒ†ã‚¹ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ :**
```
tests/
â”œâ”€â”€ test_scan/              # scanã‚³ãƒãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ test_scanner.py     # Scannerã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ test_analyzer.py    # Analyzerã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ test_formatter.py   # Formatterã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ test_comparator.py  # Comparatorã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ test_guide_generator.py  # ã‚¬ã‚¤ãƒ‰ç”Ÿæˆã®ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ test_generate_parallel.py  # ä¸¦åˆ—YAMLç”Ÿæˆã®ãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ test_cli.py         # CLIã‚³ãƒãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ unit/                   # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
â”‚   â””â”€â”€ test_<module>.py
â””â”€â”€ integration/            # çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
    â””â”€â”€ test_<feature>.py
```

**ãƒ†ã‚¹ãƒˆå‘½åè¦å‰‡:**
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `test_<module_name>.py` - ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®ã‚½ãƒ¼ã‚¹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨å¯¾å¿œ
- **ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹**: `Test<ClassName>` - "Test"ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ä»˜ãã®PascalCase
- **ãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰**: `test_<functionality_description>` - "test_"ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ä»˜ãã®snake_case

**ä¾‹:**
```python
# ãƒ•ã‚¡ã‚¤ãƒ«: tests/test_scan/test_scanner.py
class TestModelScanner:
    def test_search_by_model_name(self):
        """ãƒ¢ãƒ‡ãƒ«åæ¤œç´¢æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ"""
        pass
    
    def test_search_with_prefix_stripping(self):
        """ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹è‡ªå‹•å‰Šé™¤æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ"""
        pass

# ãƒ•ã‚¡ã‚¤ãƒ«: tests/test_scan/test_cli.py
class TestScanCLI:
    def test_scan_model_command(self):
        """scan modelã‚³ãƒãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆ"""
        pass
```

**ãƒ†ã‚¹ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ:**
- å„ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹ã‚’èª¬æ˜ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«docstringã‚’å«ã‚ã‚‹
- å„ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã«ã¯ã€ãƒ†ã‚¹ãƒˆç¯„å›²ã‚’èª¬æ˜ã™ã‚‹ã‚¯ãƒ©ã‚¹docstringã‚’å«ã‚ã‚‹
- å„ãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã«ã¯ã€ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹ãŒåˆ†ã‹ã‚‹æ˜ç¢ºã§èª¬æ˜çš„ãªåå‰ã‚’ä»˜ã‘ã‚‹
- è¤‡é›‘ãªãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã«ã¯docstringã‚’ä½¿ç”¨ã™ã‚‹

**ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸:**
- é«˜ã„ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ï¼ˆ>80%ï¼‰ã‚’ç›®æŒ‡ã™
- ãƒãƒƒãƒ”ãƒ¼ãƒ‘ã‚¹ã¨ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®ä¸¡æ–¹ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹
- CLIã‚³ãƒãƒ³ãƒ‰ã®çµ±åˆãƒ†ã‚¹ãƒˆã‚’å«ã‚ã‚‹
- å¤–éƒ¨ä¾å­˜é–¢ä¿‚ã¯é©åˆ‡ã«ãƒ¢ãƒƒã‚¯åŒ–ã™ã‚‹

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯ [LICENSE](LICENSE) ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã”è¦§ãã ã•ã„ã€‚

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®è²¢çŒ®ã‚’æ­“è¿ã—ã¾ã™ï¼ã“ã‚Œã¯æ´»ç™ºãªé–‹ç™ºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãŸã‚ã€ä»¥ä¸‹ã‚’ãŠå‹§ã‚ã—ã¾ã™ï¼š

1. æ—¢å­˜ã®issueã¨ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã‚’ç¢ºèª
2. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
3. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
4. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add amazing feature'`)
5. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
6. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

- GitHub Issues: [Issues](https://github.com/dai-motoki/haconiwa/issues)
- ãƒ¡ãƒ¼ãƒ«: kanri@kandaquantum.co.jp


## ğŸ“‹ ç’°å¢ƒå¤‰æ•°ç®¡ç†è¨ˆç”»ï¼ˆApply YAMLï¼‰

### æ¦‚è¦
Haconiwaã®å®£è¨€å‹YAMLè¨­å®šã«ç’°å¢ƒå¤‰æ•°ç®¡ç†æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¾ã™ã€‚ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã—ã¦ã€applyæ™‚ã«æŒ‡å®šã—ãŸ.envãƒ•ã‚¡ã‚¤ãƒ«ã‚’å„ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã®git worktreeãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«è‡ªå‹•ã‚³ãƒ”ãƒ¼ã™ã‚‹æ–¹å¼ã‚’æ¡ç”¨ã—ã¾ã™ã€‚

### 1. ã‚·ãƒ³ãƒ—ãƒ«ãª.envãƒ•ã‚¡ã‚¤ãƒ«è‡ªå‹•ã‚³ãƒ”ãƒ¼æ–¹å¼

#### åŸºæœ¬ã‚³ãƒ³ã‚»ãƒ—ãƒˆ
- applyæ™‚ã«`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®š
- å„ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒã®git worktreeãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«è‡ªå‹•çš„ã«ã‚³ãƒ”ãƒ¼
- å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯è‡ªåˆ†ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®`.env`ã‚’èª­ã¿è¾¼ã‚“ã§ä½¿ç”¨

#### CLIã‚³ãƒãƒ³ãƒ‰ä½¿ç”¨ä¾‹
```bash
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦apply
haconiwa apply -f haconiwa-dev-company.yaml --env .env

# è¤‡æ•°ã®.envãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šï¼ˆãƒãƒ¼ã‚¸ã•ã‚Œã‚‹ï¼‰
haconiwa apply -f haconiwa-dev-company.yaml --env .env.base --env .env.local

# ç’°å¢ƒåˆ¥ã®.envãƒ•ã‚¡ã‚¤ãƒ«
haconiwa apply -f haconiwa-dev-company.yaml --env .env.production
```

#### .envãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹
```bash
# .env.base - åŸºæœ¬è¨­å®š
COMPANY_NAME="Haconiwa Development Company"
API_ENDPOINT="https://api.haconiwa.dev"
LOG_LEVEL="INFO"
TIMEZONE="Asia/Tokyo"
LOCALE="ja_JP.UTF-8"

# .env.local - ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨ï¼ˆ.gitignoreã«è¿½åŠ ï¼‰
ANTHROPIC_API_KEY="sk-ant-api03-..."
CLAUDE_MODEL="claude-3-opus-20240229"
DEBUG_MODE="true"
DATABASE_URL="postgresql://user:pass@localhost:5432/haconiwa_dev"
REDIS_URL="redis://localhost:6379"
```

### 2. è‡ªå‹•ã‚³ãƒ”ãƒ¼ã®å‹•ä½œãƒ•ãƒ­ãƒ¼

```
1. haconiwa applyå®Ÿè¡Œæ™‚ã«--envãƒ•ãƒ©ã‚°ã‚’ç¢ºèª
    â†“
2. æŒ‡å®šã•ã‚ŒãŸ.envãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿
    â†“
3. è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´åˆã¯ãƒãƒ¼ã‚¸ï¼ˆå¾Œã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå„ªå…ˆï¼‰
    â†“
4. git worktreeä½œæˆæ™‚ã«å„ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«.envã‚’ã‚³ãƒ”ãƒ¼
    â†“
5. å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯è‡ªåˆ†ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®.envã‚’ä½¿ç”¨
```

#### ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®ã®çµæœ
```
./haconiwa-dev-world/
â””â”€â”€ tasks/
    â”œâ”€â”€ task_backend_optimization_06/
    â”‚   â”œâ”€â”€ .env               # è‡ªå‹•ã‚³ãƒ”ãƒ¼ã•ã‚ŒãŸç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«
    â”‚   â”œâ”€â”€ src/
    â”‚   â””â”€â”€ ...
    â”œâ”€â”€ task_ai_strategy_01/
    â”‚   â”œâ”€â”€ .env               # åŒã˜å†…å®¹ãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹
    â”‚   â”œâ”€â”€ docs/
    â”‚   â””â”€â”€ ...
    â””â”€â”€ task_frontend_ui_02/
        â”œâ”€â”€ .env               # åŒã˜å†…å®¹ãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹
        â”œâ”€â”€ components/
        â””â”€â”€ ...
```

### 3. Space CRDã§ã®ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«æŒ‡å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

```yaml
apiVersion: haconiwa.dev/v1
kind: Space
metadata:
  name: haconiwa-dev-world
spec:
  nations:
    - id: jp
      cities:
        - id: tokyo
          villages:
            - id: haconiwa-village
              companies:
                - name: haconiwa-dev-company
                  # ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®æŒ‡å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
                  envFiles:
                    - path: ".env.base"        # åŸºæœ¬è¨­å®š
                    - path: ".env.production"  # æœ¬ç•ªç’°å¢ƒè¨­å®š
                    - path: ".env.secrets"     # ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆï¼ˆgitignoreæ¨å¥¨ï¼‰
                  gitRepo:
                    url: "https://github.com/dai-motoki/haconiwa"
                    defaultBranch: "main"
```

### 4. ãƒ¡ãƒªãƒƒãƒˆ

1. **ã‚·ãƒ³ãƒ—ãƒ«**: è¤‡é›‘ãªç¶™æ‰¿ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ãŒä¸è¦
2. **æ¨™æº–çš„**: .envãƒ•ã‚¡ã‚¤ãƒ«ã¯å¤šãã®é–‹ç™ºè€…ãŒæ…£ã‚Œè¦ªã—ã‚“ã å½¢å¼
3. **æŸ”è»Ÿ**: ç’°å¢ƒåˆ¥ã«ç•°ãªã‚‹.envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç°¡å˜ã«åˆ‡ã‚Šæ›¿ãˆå¯èƒ½
4. **ç‹¬ç«‹æ€§**: å„ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒãŒç‹¬è‡ªã®ç’°å¢ƒå¤‰æ•°ã‚»ãƒƒãƒˆã‚’æŒã¤
5. **äº’æ›æ€§**: æ—¢å­˜ã®ãƒ„ãƒ¼ãƒ«ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ç›¸æ€§ãŒè‰¯ã„

### 5. å®Ÿè£…æ™‚ã®è€ƒæ…®äº‹é …

#### 5.1 .gitignoreã®è‡ªå‹•æ›´æ–°
```bash
# ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆæ™‚ã«.gitignoreã‚‚è‡ªå‹•ç”Ÿæˆ
echo ".env" >> ./tasks/task_backend_optimization_06/.gitignore
echo ".env.local" >> ./tasks/task_backend_optimization_06/.gitignore
echo ".env.*.local" >> ./tasks/task_backend_optimization_06/.gitignore
```

#### 5.2 ç’°å¢ƒå¤‰æ•°ã®èª­ã¿è¾¼ã¿æ–¹æ³•
```bash
# å„ãƒšã‚¤ãƒ³ã§claudeã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå‰ã«.envã‚’èª­ã¿è¾¼ã¿
cd /path/to/task && source .env && claude

# ã¾ãŸã¯dotenvãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨
cd /path/to/task && dotenv claude
```

#### 5.3 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ©Ÿèƒ½ï¼ˆå°†æ¥çš„ãªæ‹¡å¼µï¼‰
```bash
# .env.templateãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‹•çš„ã«ç”Ÿæˆ
TASK_ID={{TASK_ID}}
TASK_BRANCH={{BRANCH_NAME}}
ASSIGNED_AGENT={{AGENT_ID}}
CREATED_AT={{TIMESTAMP}}
```

### 6. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

#### 6.1 .gitignoreã®æ¨å¥¨è¨­å®š
```gitignore
# ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«
.env
.env.local
.env.*.local
.env.secrets

# æœ¬ç•ªç’°å¢ƒã®è¨­å®šã¯ç‰¹ã«æ³¨æ„
.env.production
.env.staging
```

#### 6.2 ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®ç®¡ç†
- `.env.base`: ãƒªãƒã‚¸ãƒˆãƒªã«ã‚³ãƒŸãƒƒãƒˆå¯èƒ½ï¼ˆæ©Ÿå¯†æƒ…å ±ã‚’å«ã¾ãªã„ï¼‰
- `.env.local`: ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨ï¼ˆ.gitignoreã«è¿½åŠ ï¼‰
- `.env.secrets`: API ã‚­ãƒ¼ãªã©ï¼ˆçµ¶å¯¾ã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„ï¼‰

### 7. å®Ÿè£…ã®å„ªå…ˆé †ä½

1. **ãƒ•ã‚§ãƒ¼ã‚º1**: åŸºæœ¬çš„ãª.envãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½
   - `haconiwa apply --env`ãƒ•ãƒ©ã‚°ã®å®Ÿè£…
   - git worktreeä½œæˆæ™‚ã®è‡ªå‹•ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½

2. **ãƒ•ã‚§ãƒ¼ã‚º2**: è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒãƒ¼ã‚¸æ©Ÿèƒ½
   - è¤‡æ•°ã®`--env`ãƒ•ãƒ©ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆ
   - ç’°å¢ƒå¤‰æ•°ã®ãƒãƒ¼ã‚¸ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…

3. **ãƒ•ã‚§ãƒ¼ã‚º3**: YAMLã§ã®ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«æŒ‡å®š
   - Space CRDã®`envFiles`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®Ÿè£…
   - CLIãƒ•ãƒ©ã‚°ã¨YAMLè¨­å®šã®çµ±åˆ

4. **ãƒ•ã‚§ãƒ¼ã‚º4**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ©Ÿèƒ½
   - å‹•çš„ãªç’°å¢ƒå¤‰æ•°ç”Ÿæˆ
   - ã‚¿ã‚¹ã‚¯ãƒ–ãƒ©ãƒ³ãƒå›ºæœ‰ã®å¤‰æ•°æ³¨å…¥

ã“ã®æ–¹å¼ã«ã‚ˆã‚Šã€ã‚·ãƒ³ãƒ—ãƒ«ã§å®Ÿç”¨çš„ãªç’°å¢ƒå¤‰æ•°ç®¡ç†ã‚’å®Ÿç¾ã—ã€å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå¿…è¦ãªè¨­å®šã‚’ç°¡å˜ã«åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

---

**ç®±åº­ (Haconiwa)** - AIå”èª¿é–‹ç™ºã®æœªæ¥ ğŸš§ 