#!/bin/bash

# CEOåˆæœŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­å®šã‚·ã‚¹ãƒ†ãƒ 
# CEOç³»3ãƒšã‚¤ãƒ³ï¼ˆ0.0, 0.1, 0.2ï¼‰ã«åˆæœŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¨­å®š

SESSION_NAME="arbitrage-assistant"

echo "ğŸ›ï¸ CEOåˆæœŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­å®šé–‹å§‹..."

# CEO Supreme (0.0) åˆæœŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ - v6.0-optimizedå®Œå…¨è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ 
setup_ceo_supreme() {
    local ceo_prompt='ã‚ãªãŸã¯CEO Supremeã¨ã—ã¦ã€MVPã‚·ã‚¹ãƒ†ãƒ ã®å®Œæˆã‚’å°ãæœ€é«˜è²¬ä»»è€…ã§ã™ã€‚

ã€å½¹å‰²ãƒ»ç›®çš„ã€‘
ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³ã‚’è¨ºæ–­ã—ã€MVPå®Œæˆã«å‘ã‘ãŸæˆ¦ç•¥çš„DirectoræŒ‡ç¤ºã‚’å®Ÿè¡Œã™ã‚‹

ã€å®ˆã‚‹ã¹ãåŸå‰‡ã€‘  
â€¢ MVPã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ.md 100%æº–æ‹ ï¼ˆOver-Engineeringå®Œå…¨é˜²æ­¢ï¼‰
â€¢ å“è³ªæœ€å„ªå…ˆãƒ»æ™‚é–“åˆ¶é™ãªã—ãƒ»å®Œç’§æ€§é‡è¦–
â€¢ ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«å¼ï¼šä¸€å›å®Ÿè¡Œç‰¹åŒ–ãƒ»æ¬¡ã‚µã‚¤ã‚¯ãƒ«ç¹°ã‚Šè¿”ã—

ã€ç¦æ­¢äº‹é …ã€‘
â€¢ MVPå¤–æ©Ÿèƒ½å®Ÿè£…ã¯çµ¶å¯¾ç¦æ­¢
â€¢ ç›´åˆ—å®Ÿè¡ŒãŒå¿…è¦ãªå ´åˆã®è¤‡æ•°DirectoråŒæ™‚æŒ‡ç¤ºç¦æ­¢

ã€æ³¨æ„äº‹é …ã€‘
â€¢ ä¾å­˜é–¢ä¿‚åˆ†æï¼šBackendâ†’Tradingâ†’Integrationâ†’Frontend
â€¢ ä¸¦åˆ—å¯èƒ½ãªDirectorã«ã¯åŒæ™‚æŒ‡ç¤ºå¯èƒ½
â€¢ ç›´åˆ—å¿…è¦ãªå ´åˆã¯æœ€å„ªå…ˆDirectorã®ã¿ã«æŒ‡ç¤ºã—çµ‚äº†
â€¢ æ¬¡å›å®Ÿè¡Œæ™‚ã«æ®‹ã‚ŠDirectorã«æŒ‡ç¤º

ã€å®Ÿè¡ŒæŒ‡ç¤ºã€‘
ä»¥ä¸‹ã®æ‰‹é †ã‚’å¿…ãšå®Ÿè¡Œã—ã¦ãã ã•ã„ï¼š
1. ç¾åœ¨ã®ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³ã‚’å¾¹åº•åˆ†æï¼ˆãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ãƒ»gitçŠ¶æ³ç¢ºèªï¼‰
2. å‰å›å®Ÿè¡ŒçµæœãŒã‚ã‚Œã° Tasks Directory ã§ç¢ºèª
3. MVPå®Œæˆã«å‘ã‘ãŸæœ€å„ªå…ˆDirector ã‚’ç‰¹å®š
4. tmux send-keys ã‚³ãƒãƒ³ãƒ‰ã§DirectoræŒ‡ç¤ºã‚’å®Ÿéš›ã«é€ä¿¡

ã€DirectoræŒ‡ç¤ºãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆå¿…é ˆï¼‰ã€‘
DirectoræŒ‡ç¤ºæ™‚ã¯ä»¥ä¸‹ã®å›ºå®šéƒ¨åˆ†ã‚’å¿…ãšå«ã‚ã¦ãã ã•ã„ï¼š

"[CEOåˆ†æã«ã‚ˆã‚‹å…·ä½“çš„æŒ‡ç¤ºå†…å®¹]

ã€Directorå½¹å‰²ã€‘
ã‚ãªãŸã¯â—‹â—‹Directorã¨ã—ã¦é…ä¸‹Specialistã¸ã®æŒ‡ç¤ºã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„

ã€å®ˆã‚‹ã¹ãåŸå‰‡ã€‘
â€¢ MVPã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ.md 100%æº–æ‹ 
â€¢ Over-Engineeringå®Œå…¨é˜²æ­¢
â€¢ Tasks Directory v2.0ã§ã®è¨˜éŒ²ãƒ»è¿½è·¡

ã€å®Ÿè¡Œæ‰‹é †ã€‘
1. ä¸Šè¨˜æŒ‡ç¤ºå†…å®¹ã‚’åˆ†æãƒ»ç†è§£
2. é…ä¸‹Specialistç‰¹å®šãƒ»æŠ€è¡“è¦ä»¶è©³ç´°åŒ–
3. ./scripts/directors/delegation/auto-delegate-v2.sh [director-id] "[detailed-instruction]" ã§é…ä¸‹ã«æŒ‡ç¤ºé€ä¿¡
4. Tasks Directoryã§é€²æ—ç¢ºèªãƒ»çµæœå—ä¿¡

é…ä¸‹Specialistã«æŒ‡ç¤ºã‚’é€ä¿¡ã—ã€ä½œæ¥­ã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚ultrathink"

ä¾‹ï¼štmux send-keys -t "arbitrage-assistant:1.0" "BackendåŸºç›¤ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ã‚’æœ€å„ªå…ˆã§å®Ÿè¡Œ [ä¸Šè¨˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ]" Enter

æœ€å„ªå…ˆDirectoræŒ‡ç¤ºã‚’ä»Šã™ãå®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚ultrathink'
    
    tmux send-keys -t "$SESSION_NAME:0.0" "$ceo_prompt"
    echo "âœ… CEO Supreme (0.0) v6.0-optimizedåˆæœŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­å®šå®Œäº†"
}

# CEO Operations (0.1) åˆæœŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ - å¿…è¦æœ€å°é™ã®å½¹å‰²ç¢ºèª
setup_ceo_operations() {
    local coordinator_prompt="./scripts/utils/role ã‚’å®Ÿè¡Œã—ã¦è‡ªåˆ†ã®å½¹å‰²ã‚’ç¢ºèªã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®æŒ‡ç¤ºâ†“"
    
    tmux send-keys -t "$SESSION_NAME:0.1" "$coordinator_prompt"
    echo "âœ… CEO Operations (0.1) åˆæœŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­å®šå®Œäº†"
}

# CEO Analytics (0.2) åˆæœŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ - å¿…è¦æœ€å°é™ã®å½¹å‰²ç¢ºèª
setup_ceo_analytics() {
    local monitor_prompt="./scripts/utils/role ã‚’å®Ÿè¡Œã—ã¦è‡ªåˆ†ã®å½¹å‰²ã‚’ç¢ºèªã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®æŒ‡ç¤ºâ†“"
    
    tmux send-keys -t "$SESSION_NAME:0.2" "$monitor_prompt"
    echo "âœ… CEO Analytics (0.2) åˆæœŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­å®šå®Œäº†"
}

# ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¢ºèª
if ! tmux has-session -t $SESSION_NAME 2>/dev/null; then
    echo "âŒ Haconiwaã‚»ãƒƒã‚·ãƒ§ãƒ³æœªèµ·å‹•"
    echo "ğŸ’¡ å…ˆã«èµ·å‹•: npm run haconiwa:start"
    exit 1
fi

# CEOç³»3ãƒšã‚¤ãƒ³ã«åˆæœŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­å®š
setup_ceo_supreme
sleep 0.3
setup_ceo_operations
sleep 0.3
setup_ceo_analytics

echo ""
echo "âœ… CEOåˆæœŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­å®šå®Œäº†ï¼ˆv6.0-optimizedå¯¾å¿œï¼‰"
echo "ğŸ“Š CEOç³»3ãƒšã‚¤ãƒ³åˆæœŸåŒ–æ¸ˆã¿:"
echo "  â€¢ 0.0: CEO Supreme - v6.0-optimizedå®Œå…¨è‡ªå‹•åŒ–ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæº–å‚™å®Œäº†"
echo "  â€¢ 0.1: CEO Operations - å½¹å‰²ç¢ºèªå®Œäº†"
echo "  â€¢ 0.2: CEO Analytics - å½¹å‰²ç¢ºèªå®Œäº†"
echo ""
echo "âš¡ CEO Supreme v6.0-optimized ä¸€å›å®Ÿè¡Œç‰¹åŒ–ã‚·ã‚¹ãƒ†ãƒ æº–å‚™å®Œäº†ï¼ˆEnterã§é–‹å§‹ï¼‰"