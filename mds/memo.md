【タスク作成プロンプト】
MVPシステム設計.mdをしっかり理解してから実装を開始すること。
claude codeで実行するための最適なタスク分けをすること。
claude codeでそれぞれ独立して実行可能なものにすること。
ultrathink

【タスク実行プロンプト】
MVPシステム設計.mdをしっかり理解してから実装を開始すること。
[hedge systemのbuildを実行して。成功しない場合はエラーを修正して。]
ultrathink

【エラー修正プロンプト】
MVPシステム設計.mdをしっかり理解してからエラー修正を開始すること。
hedge systemのUIを修正したい。
表示は接続中の口座情報だけでいい。ポジションも表示。
ultrathink

<!-- .haconiwa/README.md
このガイドをしっかり理解してから開始すること。
特にこの部分 -> ### CRD-Based Architecture -->

<!-- 現在haconiwaが開発中でceoがそれぞれのペインの状況を確認したりできないということは理解している。そのため開発を進めるには私のサポートが必要だと思います。なので私の必要なサポート内容についてもこちらにまとめている。必要があれば更新して。
tasks/user-ceo-responsibilities.md -->

haconiwaのベストプラクティスのCRD設計で、MVPシステム設計.mdの実装を進めるのに最適な6x3 Grid構成のwindow, paneを設計中。
今はhaconiwaは開発段階なので自分でscriptファイルを作成して実装している。

npm run haconiwa:startでワークスペースを開いて、それぞれのペインで作業できる。
それぞれのペインで開かれているclaude codeが自分自身の役割を理解するために、環境変数を設定した上で、claude codeを立ち上げるようにした。
立ち上がったそれぞれのclaudeに初期コマンドを入力しておく。
そうすることでそれぞれのペインが初めて指示を実行するときに、そのコマンドが実行され自分の役割を把握させる仕組み。

【あなたに実行してもらいたいタスク】
私はCEO Supremeの初期プロンプトを完璧にしたい。
まず、私はワークスペースを開くと、CEO Supremeにあらかじめ入力されている初期プロンプトを実行する。
これを実行すると、システム設計とプロジェクト全体を把握して、MVPの実装を完成させるために必要な指示をそれぞれのディレクターに対して送信する。既に完成しているものに対しては、ディレクターに対しての送信はしなくてもいい。今はディレクターではなく、実装メンバーに対しての直接指示が送信されています。
ディレクターは指示を受け取ったら、私はそのペインで開かれているクロードコードで指示をチェックして実行する。
ディレクターはその指示を実行すると、自分で実装するのではなく、配下のチームメンバーに対してタスクを振り分けて指示をtmuxコマンドで出す。
ここまでの流れは実行できる仕組みを作成したい。現時点でもかなりいい感じに作成されているが、改善するポイントがあるはず。
ceo-operations, ceo-analyticsはCEO Supreme起動時に自動実行とあるが、これらのceoも私が実行ボタンを適切なタイミングでおすよ。ceo-supremeが指示を出して連鎖的に実行していくと思うけど、それらがある程度終了したらceo-operations, ceo-analyticsは実行していく予定。 そしたらその結果をどこかに保存してそれらのceoはタスク終了。私が別のターミナルでhaconiwa:refreshでリフレッシュしてからまた、CEO Supremeへの指示から始める。このサイクルを確立したい。ultrahink

ultrathink

---

私はCEOにのみ指示を出す。
CEOはそれぞれのディレクターのペインで開かれているclaude codeのinput欄にtmuxコマンドで指示を入力できる。
それぞれのディレクターがプロジェクト全体をチェックして、さらに細分化したタスクを同一ウィンドウ内のペインにtmuxコマンドで指示出しする。

私はスクリプトにはCEOにだけ指示を出してほしい、その後の指示はCEOからそれぞれのディレクターの該当するペインに対して、指示をtmuxのコマンドを使って入力するようにしたい。
なのにな、今は以下のように実装されている。

CEOからそれぞれのディレクターへの指示はうまく伝達している。ただし、それぞれのディレクターからさらに細分化されたペインに対しての指示出しがうまく実装されていない。
また、CEOはシステム設計と現在の実装のチェックを行い、必要があればディレクターに指示を出して、必要がなければそのディレクターには何も指示を出さなくていい。
該当するディレクターにだけ指示を出して、そのディレクターがさらに細分化されたペインに対して指示を出せるようなCEOへの指示文にしてほしい。
CEOへの指示文は、CEOメインに対しての一つだけを作成すること。その一つが、これらのすべての要件を満たす設計にすること。

現在、npm run 箱庭スタートを実行すると、claudeのクリーンアップを実行しているが、私のローカルで開いているClaudeまでクリーンアップされてしまう。
tmuxで実行されているClaudeだけクリーンアップされるようにしたい。

現在、npm run 箱庭スタートを実行すると、claudeのクリーンアップを実行しているが、私のローカルで開いているClaudeまでクリーンアップされてしまう。また、クリーンアップ後にクロードを開くと認証画面からスタートするこの問題を解決してほしい。ただし、私はこのオプションはつけて実行したい。--dangerously-skip-permissions

現在、開かれたそれぞれのpainで最終的にクラウドコードのオプションをつけて開いてほしい。
claude --dangerously-skip-permissions
これで全てのペインで開くことは可能？

haconiwa-start.shで選択肢は必要ない。毎回並列で行うように。
あと、クリーンアップの処理のところも並列でできない？
claude codeで毎回認証からスタートしないように、認証情報などまでクリーンアップしないように注意して。

---

agent idが設定されていないペインがある。exec-04というエージェント名になっている。
ペインのclaude codeのinput欄に[claude --dangerously-skip-permissions]というテキストが入力された状態でスタートしているものがある。
これはclaudeを開いた後にその入力を行っているからだと思う。チェックして。

ultrathink

echo $HACONIWA_AGENT_ID

あなたは該当するディレクターにtmuxコマンドで指示を出すまでが仕事です。
